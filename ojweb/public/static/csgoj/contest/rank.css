/* Rankæ¨¡å—æ ·å¼éš”ç¦» - ç¡®ä¿å®Œå…¨ç‹¬ç«‹ */
.rank-container {
    /* é‡ç½®å¯èƒ½çš„å¤–éƒ¨å½±å“ */
    font-size: 16px !important; /* å›ºå®šåŸºå‡†å­—ä½“å¤§å° */
    line-height: 1.5 !important;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif !important;
    
    /* é˜²æ­¢å¤–éƒ¨æ ·å¼å¹²æ‰° */
    box-sizing: border-box !important;
    margin: 0 !important;
    padding: 0 !important;
    
    /* ç¡®ä¿æ‰€æœ‰å­å…ƒç´ ç»§æ‰¿ */
    * {
        box-sizing: border-box !important;
    }
}

/* SVG å›¾æ ‡å¸¸é‡å®šä¹‰ */
:root {
    /* æ•™ç»ƒé€‰æ‰‹å›¾æ ‡ */
    --icon-coach: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='currentColor' viewBox='0 0 16 16'%3E%3Cpath d='M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z'/%3E%3C/svg%3E");
    --icon-player: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='currentColor' viewBox='0 0 16 16'%3E%3Cpath d='M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-5.784 6A2.238 2.238 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216zM4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z'/%3E%3C/svg%3E");
    
    /* é˜Ÿä¼ç±»å‹å›¾æ ‡ */
    --icon-team-regular: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='currentColor' viewBox='0 0 16 16'%3E%3Cpath d='M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-5.784 6A2.238 2.238 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216zM4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z'/%3E%3C/svg%3E");
    --icon-team-girl: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='currentColor' viewBox='0 0 16 16'%3E%3Cpath d='M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z'/%3E%3C/svg%3E");
    --icon-team-star: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='currentColor' viewBox='0 0 16 16'%3E%3Cpath d='M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z'/%3E%3C/svg%3E");
    
    /* æ§åˆ¶æŒ‰é’®å›¾æ ‡ */
    --icon-refresh: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='currentColor' viewBox='0 0 16 16'%3E%3Cpath fill-rule='evenodd' d='M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z'/%3E%3Cpath d='M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z'/%3E%3C/svg%3E");
    --icon-fullscreen: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='currentColor' viewBox='0 0 16 16'%3E%3Cpath d='M1.5 1a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4A1.5 1.5 0 0 1 1.5 0h4a.5.5 0 0 1 0 1h-4zM10 .5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 16 1.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zM.5 10a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 0 14.5v-4a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v4a1.5 1.5 0 0 1-1.5 1.5h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5z'/%3E%3C/svg%3E");
    --icon-exit-fullscreen: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='currentColor' viewBox='0 0 16 16'%3E%3Cpath d='M5.5 0a.5.5 0 0 1 .5.5v4A1.5 1.5 0 0 1 4.5 6h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5zm5 0a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 10 4.5v-4a.5.5 0 0 1 .5-.5zM0 10.5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 6 11.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zm15 0a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-4a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 1 0v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 .5-.5v-4a.5.5 0 0 1-.5-.5z'/%3E%3C/svg%3E");
    --icon-roll: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='currentColor' viewBox='0 0 16 16'%3E%3Cpath d='M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z'/%3E%3Cpath d='M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286zm1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z'/%3E%3C/svg%3E");
    --icon-pause: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='currentColor' viewBox='0 0 16 16'%3E%3Cpath d='M6 3.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-1 0V4a.5.5 0 0 1 .5-.5zm4 0a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-1 0V4a.5.5 0 0 1 .5-.5z'/%3E%3C/svg%3E");
    --icon-stop: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='currentColor' viewBox='0 0 16 16'%3E%3Cpath d='M5 3.5h6A1.5 1.5 0 0 1 12.5 5v6a1.5 1.5 0 0 1-1.5 1.5H5A1.5 1.5 0 0 1 3.5 11V5A1.5 1.5 0 0 1 5 3.5z'/%3E%3C/svg%3E");
    --icon-settings: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='currentColor' viewBox='0 0 16 16'%3E%3Cpath d='M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z'/%3E%3Cpath d='M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.434-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.292-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.292c.415.764-.42 1.6-1.185 1.184l-.292-.159a1.873 1.873 0 0 0-2.692 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.693-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.292A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z'/%3E%3C/svg%3E");
    --icon-filter: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='currentColor' viewBox='0 0 16 16'%3E%3Cpath d='M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z'/%3E%3C/svg%3E");
    --icon-export: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='currentColor' viewBox='0 0 16 16'%3E%3Cpath d='M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z'/%3E%3Cpath d='M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z'/%3E%3C/svg%3E");
    --icon-print: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='currentColor' viewBox='0 0 16 16'%3E%3Cpath d='M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1z'/%3E%3Cpath d='M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2H5zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4V3zm1 3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H5zm-1 1h8v6H4V7z'/%3E%3C/svg%3E");
    --icon-help: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='currentColor' viewBox='0 0 16 16'%3E%3Cpath d='M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z'/%3E%3Cpath d='M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286zm1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z'/%3E%3C/svg%3E");
    --icon-close: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='currentColor' viewBox='0 0 16 16'%3E%3Cpath d='M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z'/%3E%3C/svg%3E");
    --icon-check: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='currentColor' viewBox='0 0 16 16'%3E%3Cpath d='M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z'/%3E%3C/svg%3E");
    --icon-warning: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='currentColor' viewBox='0 0 16 16'%3E%3Cpath d='M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z'/%3E%3C/svg%3E");
    --icon-info: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='currentColor' viewBox='0 0 16 16'%3E%3Cpath d='M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z'/%3E%3Cpath d='m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z'/%3E%3C/svg%3E");
    
    /* æ°”çƒå›¾æ ‡ */
    --icon-balloon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='currentColor' viewBox='0 0 16 16'%3E%3Cpath fill-rule='evenodd' d='M8.48 10.901C11.211 10.227 13 7.837 13 5A5 5 0 0 0 3 5c0 2.837 1.789 5.227 4.52 5.901l-.244.487a.25.25 0 1 0 .448.224l.04-.08c.009.17.024.315.051.45.068.344.208.622.448 1.102l.013.028c.212.422.182.85.05 1.246-.135.402-.366.751-.534 1.003a.25.25 0 0 0 .416.278l.004-.007c.166-.248.431-.646.588-1.115.16-.479.212-1.051-.076-1.629-.258-.515-.365-.732-.419-1.004a2 2 0 0 1-.037-.289l.008.017a.25.25 0 1 0 .448-.224zM4.352 3.356a4 4 0 0 1 3.15-2.325C7.774.997 8 1.224 8 1.5s-.226.496-.498.542c-.95.162-1.749.78-2.173 1.617a.6.6 0 0 1-.52.341c-.346 0-.599-.329-.457-.644'/%3E%3C/svg%3E");
}

/* å…¨å±€æ ·å¼å˜é‡å®šä¹‰ - å¿…é¡»åœ¨æœ€å‰é¢ */
:root {
    /* å¸ƒå±€å°ºå¯¸ - ä½¿ç”¨pxç¡®ä¿ç‹¬ç«‹æ€§ */
    --rank-col-width: 64px;
    --rank-solve-col-width: 72px;
    --rank-penalty-col-width: 72px;
    --rank-problem-col-width: 80px;
    --rank-header-height: 60px;
    --rank-stats-height: 32px;
    --rank-col-gap: 5px;
    --rank-row-gap: 8px;
    --rank-border-radius: 8px;
    --rank-border-radius-small: 4px;

    /* å†…è¾¹è· - ä½¿ç”¨pxç¡®ä¿ç‹¬ç«‹æ€§ */
    --rank-padding-xs: 4px;
    --rank-padding-sm: 8px;
    --rank-padding-md: 12px;
    --rank-padding-lg: 16px;
    --rank-padding-xl: 24px;

    /* å­—ä½“å¤§å° - ä½¿ç”¨pxç¡®ä¿ç‹¬ç«‹æ€§ */
    --rank-font-size-xs: 11px;
    --rank-font-size-sm: 13px;
    --rank-font-size-md: 14px;
    --rank-font-size-lg: 16px;
    --rank-font-size-xl: 18px;
    --rank-font-size-2xl: 19px;
    --rank-font-size-3xl: 22px;
    --rank-font-size-4xl: 32px;
    --rank-font-size-5xl: 40px;
    
    /* å­—ä½“ç²—ç»† */
    --rank-font-weight-normal: 400;
    --rank-font-weight-medium: 500;
    --rank-font-weight-semibold: 600;
    --rank-font-weight-bold: 700;
    --rank-font-weight-extrabold: 800;
    --rank-font-weight-black: 900;
    
    /* é¢œè‰²ç³»ç»Ÿ */
    --rank-color-primary: #007bff;
    --rank-color-success: #28a745;
    --rank-color-warning: #ffc107;
    --rank-color-danger: #dc3545;
    --rank-color-info: #17a2b8;
    --rank-color-light: #f8f9fa;
    --rank-color-dark: #343a40;
    
    /* èƒŒæ™¯è‰² */
    --rank-bg-primary: #ffffff;
    --rank-bg-secondary: #f8f9fa;
    --rank-bg-tertiary: #e9ecef;
    --rank-bg-header: #1e293b;
    
    /* æ–‡å­—é¢œè‰² */
    --rank-text-primary: #333333;
    --rank-text-secondary: #6c757d;
    --rank-text-muted: #999999;
    --rank-text-light: #cbd5e1;
    --rank-text-white: #ffffff;
    
    /* è¾¹æ¡†é¢œè‰² */
    --rank-border-light: #dee2e6;
    --rank-border-medium: #adb5bd;
    --rank-border-dark: #6c757d;
    --rank-border-white: rgba(255,255,255,0.3);
    
    /* é˜´å½± */
    --rank-shadow-sm: 0 1px 3px rgba(0,0,0,0.05);
    --rank-shadow-md: 0 2px 6px rgba(0,0,0,0.08);
    --rank-shadow-lg: 0 4px 12px rgba(0,0,0,0.15);
    --rank-shadow-xl: 0 6px 20px rgba(0,0,0,0.4);
    
    /* è¿‡æ¸¡åŠ¨ç”» */
    --rank-transition-fast: 0.15s ease;
    --rank-transition-normal: 0.3s ease;
    --rank-transition-slow: 0.5s ease;
}

/* åŸºç¡€æ ·å¼ */
.rank-system {
    position: relative; /* è®©å­å…ƒç´ å¯ä»¥æ ¹æ®å®¹å™¨è¿›è¡Œç›¸å¯¹å®šä½ */
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Microsoft YaHei', 'å¾®è½¯é›…é»‘', 'SimSun', 'å®‹ä½“', sans-serif;
    background-color: #f5f5f5;
    color: #333;
    line-height: 1.6;
    width: max-content;
    min-width: 100%;
    max-width: none;
    overflow: visible;
    margin: 0 auto; /* åœ¨çˆ¶å®¹å™¨ä¸­å±…ä¸­ */
}

.rank-system * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

/* æ¦œå•å®¹å™¨ */
.rank-container {
    margin: 0 auto;
    width: max-content;
    min-width: 100%;
    max-width: none;
    overflow: visible;
    max-height: none;
    user-select: text; /* å…è®¸æ–‡å­—é€‰æ‹© */
    scroll-behavior: smooth;
    position: relative;
}

/* å…è®¸æ ¡åå’Œé˜Ÿåæ–‡å­—é€‰æ‹© */
.rank-row .team-name,
.rank-row .school-name,
.rank-row .team-name-cn,
.rank-row .team-name-en,
.rank-row .school-name-text,
.team-name-cn,
.team-name-en,
.school-name {
    user-select: text !important;
    cursor: text;
}

/* ä¿æŒæŒ‰é’®å’Œäº¤äº’å…ƒç´ ä¸å¯é€‰æ‹© */
.control-btn,
.custom-select-btn,
.rank-item,
.solve-item,
.penalty-item,
.problem-item {
    user-select: none;
}


/* é¡µé¢å¤´éƒ¨ */
.rank-header {
    color: #333;
    padding: var(--rank-padding-lg);
    margin: 0 auto;
}

.header-content {
    margin-bottom: 16px;
}

.header-title-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 16px;
}

.title-section {
    container-type: inline-size;
    display: flex;
    justify-content: flex-start;
    align-items: center;
    margin-bottom: 16px;
}

/* æ—§çš„controls-sectionå·²æ•´åˆåˆ°controls-time-sectionï¼Œä¿ç•™æ­¤æ ·å¼ä»¥é˜²ä¸‡ä¸€ */
.controls-section {
    display: none; /* å·²æ•´åˆåˆ°controls-time-section */
}

.header-left {
    flex: 1;
    min-width: 0;
}

.rank-header-row {
    display: flex;
    gap: var(--rank-col-gap);
    padding: 12px 16px 0 16px;
    background: #f8f9fa;
    color: var(--rank-text-secondary);
    font-weight: 600;
    font-size: var(--rank-font-size-md);
    border-bottom: 1px solid #dee2e6;
    position: sticky;
    top: 0;
    z-index: 100;
    width: 100%;
    flex-wrap: nowrap;
    overflow-x: auto;
}

.rank-header-row .rank-col {
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: var(--rank-border-radius);
    background: linear-gradient(135deg, var(--rank-bg-header) 0%, #334155 100%);
    box-shadow: var(--rank-shadow-lg);
    border: 1px solid rgba(255,255,255,0.1);
    position: relative;
    overflow: visible;
    flex-shrink: 0;
    height: var(--rank-header-height);
}

/* è¡¨å¤´åŸºç¡€æ ·å¼ - å¤ç”¨ */
.rank-header-row .rank-col .header-cell,
.problem-header-content {
    display: inline-flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    line-height: 1.2;
    white-space: nowrap;
    font-size: var(--rank-font-size-2xl);
    font-weight: 900;
    color: var(--rank-text-white);
    text-shadow: 0 1px 2px rgba(0,0,0,0.3);
}

/* è¡¨å¤´å­å…ƒç´ æ ·å¼ - å¤ç”¨ */
.rank-header-row .rank-col .header-cell en-text,
.problem-header-stats {
    font-size: var(--rank-font-size-md);
    font-weight: 600;
    color: var(--rank-text-light);
    margin-top: 2px;
    white-space: nowrap;
    text-shadow: 0 1px 2px rgba(0,0,0,0.2);
}

/* é¢˜ç›®åˆ—ç‰¹æ®Šæ ·å¼ */
.rank-header-row .rank-col.rank-col-problem {
    width: var(--rank-problem-col-width);
}

/* é¢˜ç›®è¡¨å¤´å®¹å™¨ç‰¹æ®Šæ ·å¼ */
.problem-header-content {

    position: relative;
    z-index: 2;
}

/* é¢˜ç›®è¡¨å¤´æ ‡é¢˜ç‰¹æ®Šæ ·å¼ */
.problem-header-title {
    font-size: var(--rank-font-size-2xl);
    font-weight: 900;
    color: var(--rank-text-white);
    line-height: 1.2;
    text-shadow: 0 1px 2px rgba(0,0,0,0.3);
}

/* é¢˜ç›®è¡¨å¤´ç»Ÿè®¡ç‰¹æ®Šæ ·å¼ */
.problem-header-stats {
    font-variant-numeric: tabular-nums;
}

.problem-header-color-bg {
    position: absolute;
    top: -24px;
    left: 70%;
    transform: translateX(-50%);
    z-index: 3;
    color: var(--rank-problem-color);
    font-size: var(--rank-font-size-5xl);
    -webkit-text-stroke: 0.5px var(--rank-text-white);
}

/* é¢˜ç›®è¡¨å¤´æ‚¬åœæ•ˆæœ */
.rank-header-row .rank-col.rank-col-problem:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.15), 0 2px 6px rgba(0,0,0,0.1);
}

/* å›¾æ ‡æ ·å¼ - ä½¿ç”¨Bootstrap Icons */


#rank-page-title {
    font-size: var(--rank-font-size-4xl);
    font-weight: 600;
    margin: 0;
    text-align: left;
    word-wrap: break-word;
    word-break: break-all;
    line-height: 1.3;
    max-width: 100%;
    white-space: normal;
}

.controls-toolbar {
    display: flex;
    gap: var(--rank-padding-lg);
    align-items: center;
    background: white;
    padding: var(--rank-padding-sm);
    border-radius: 6px;
    border: 1px solid #dee2e6;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    z-index: 100001;
}

.toolbar-group {
    display: flex;
    gap: var(--rank-padding-sm);
    align-items: center;
}

.toolbar-item {
    display: flex;
    align-items: center;
    gap: var(--rank-padding-xs);
}

.header-controls.collapsed {
    display: none;
}

.controls-dropdown.show {
    display: flex;
}

.custom-select-container {
    position: relative;
    display: inline-block;
}

.custom-select-btn {
    padding: var(--rank-padding-sm);
    border: 1px solid #dee2e6;
    border-radius: var(--rank-border-radius-small);
    background: white;
    color: var(--rank-text-secondary);
    cursor: pointer;
    font-size: var(--rank-font-size-md);
    font-weight: 500;
    transition: all 0.2s ease;
    white-space: nowrap;
    flex-shrink: 0;
    min-width: 40px;
    height: 40px;
    line-height: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    user-select: none;
    outline: none;
}

.custom-select-btn.icon-only {
    width: 40px;
    height: 40px;
    padding: var(--rank-padding-sm);
    display: flex;
    align-items: center;
    justify-content: center;
}

.custom-select-btn:hover {
    background: #e9ecef;
    border-color: #adb5bd;
}

.custom-select-btn:focus {
    outline: 2px solid #007bff;
    outline-offset: 2px;
}

.custom-select-btn:active {
    transform: translateY(1px);
    box-shadow: 0 1px 2px rgba(0,0,0,0.1);
}

.custom-select-btn i {
    font-size: var(--rank-font-size-2xl);
    margin: 0;
}

.custom-select-dropdown {
    position: absolute;
    top: calc(100% + 4px);
    left: 0;
    background: white;
    border: 1px solid #e5e7eb;
    border-radius: var(--rank-border-radius);
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
    z-index: 105;
    display: none;
    flex-direction: column;
    min-width: 200px;
    width: auto;
    white-space: nowrap;
}

.custom-select-dropdown.show {
    display: flex;
    animation: dropdownFadeIn 0.2s ease-out;
}

@keyframes dropdownFadeIn {
    from {
        opacity: 0;
        transform: translateY(-8px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.custom-select-option {
    padding: var(--rank-padding-md) var(--rank-padding-lg);
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: var(--rank-padding-md);
    transition: all 0.2s ease;
    border-bottom: 1px solid rgba(0, 0, 0, 0.05);
    color: #4a5568;
    font-size: var(--rank-font-size-md);
    min-width: 180px;
}

.custom-select-option:last-child {
    border-bottom: none;
    border-radius: 0 0 8px 8px;
}

.custom-select-option:first-child {
    border-radius: 8px 8px 0 0;
}

.custom-select-option:hover {
    background: #f3f4f6;
    color: #111827;
}

.custom-select-option.selected {
    background: #eff6ff;
    color: #1d4ed8;
    font-weight: 600;
    border-left: 3px solid #3b82f6;
}

.custom-select-option i {
    font-size: var(--rank-font-size-lg);
    margin: 0;
    flex-shrink: 0;
}

.option-text {
    flex: 1;
    font-size: var(--rank-font-size-md);
    line-height: 1.2;
}

.option-text en-text {
    display: block;
    font-size: var(--rank-font-size-sm);
    color: #6c757d;
    margin-top: 2px;
    white-space: nowrap;
}

.control-group {
    display: flex;
    gap: var(--rank-padding-sm);
    align-items: center;
    flex-shrink: 0;
    min-width: 0;
}

.control-select {
    padding: var(--rank-padding-xs) var(--rank-padding-sm);
    border: 1px solid #dee2e6;
    border-radius: var(--rank-border-radius-small);
    background: white;
    color: #333;
    font-size: var(--rank-font-size-md);
    min-width: 120px;
    max-width: 150px;
    flex-shrink: 0;
    height: 24px;
    line-height: 1;
}

.control-btn {
    padding: var(--rank-padding-sm) var(--rank-padding-md);
    border: 1px solid #dee2e6;
    border-radius: var(--rank-border-radius-small);
    background: white;
    color: var(--rank-text-secondary);
    cursor: pointer;
    font-size: var(--rank-font-size-md);
    font-weight: 500;
    transition: all 0.2s ease;
    white-space: nowrap;
    flex-shrink: 0;
    min-width: 40px;
    height: 40px;
    line-height: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    user-select: none;
    outline: none;
}

.control-btn:hover {
    background: #e9ecef;
    border-color: #adb5bd;
}

.control-btn.active {
    background: #e9ecef;
    font-weight: 600;
    border-color: #6c757d;
    color: var(--rank-text-secondary);
}

.control-btn.disabled {
    opacity: 0.5;
    cursor: not-allowed;
    pointer-events: none;
}

.control-btn:focus {
    outline: 2px solid #007bff;
    outline-offset: 2px;
}

.control-btn:active {
    transform: translateY(1px);
    box-shadow: 0 1px 2px rgba(0,0,0,0.1);
}

.summary-btn {
    background: #fff3cd;
    color: #856404;
    border-color: #ffeaa7;
}

.summary-btn:hover {
    background: #ffeaa7;
    border-color: #f39c12;
}

.roll-btn {
    background: #d1ecf1;
    color: #0c5460;
    border-color: #bee5eb;
}

.roll-btn:hover {
    background: #bee5eb;
    border-color: #17a2b8;
}

.fullscreen-btn {
    background: #d4edda;
    color: #155724;
    border-color: #c3e6cb;
}

.fullscreen-btn:hover {
    background: #c3e6cb;
    border-color: #28a745;
}

.refresh-btn {
    background: #e3f2fd;
    color: #1976d2;
    border-color: #bbdefb;
}

.refresh-btn:hover {
    background: #bbdefb;
    border-color: #1976d2;
}

/* åˆ·æ–°æŒ‰é’®åŠ è½½çŠ¶æ€ */
.refresh-btn.loading {
    pointer-events: none;
    opacity: 0.7;
}

.refresh-btn.loading i {
    animation: spin 1s linear infinite;
}

/* æ¦œå•å®¹å™¨ */
.rank-container {
    margin: 0 auto;
}


.rank-grid {
    background: white;
    border-radius: 0 0 8px 8px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    overflow: visible; /* å…è®¸å†…å®¹æº¢å‡º */
    border: 1px solid #e9ecef;
    border-top: 2px solid var(--rank-border-dark);
    margin-top: 5px;
    padding-top: 5px;
    width: max-content; /* å®½åº¦ç”±å†…å®¹å†³å®š */
    min-width: 100%; /* æœ€å°å®½åº¦ä¸ºçˆ¶å®¹å™¨å®½åº¦ */
}

/* æ¦œå•è¡Œ */
.rank-row {
    display: flex;
    gap: var(--rank-row-gap);
    padding: 0 var(--rank-padding-lg);
    border-bottom: 3px solid #d1d5db; /* æ›´ç²—çš„åˆ†éš”çº¿ */
    background: linear-gradient(135deg, var(--rank-bg-primary) 0%, var(--rank-bg-secondary) 100%);
    transition: var(--rank-transition-normal);
    position: relative;
    contain: content;
    will-change: transform;
    width: 100%;
    align-items: stretch;
    margin-bottom: 12px; /* å¤§å¹…å¢åŠ è¡Œé—´è· */
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1); /* æ›´æ˜æ˜¾çš„é˜´å½± */
    border-radius: 0 0 12px 12px; /* æ›´å¤§çš„åº•éƒ¨åœ†è§’ */
}

/* æ’åè¡Œåˆ†ç•Œ */
.rank-row:not(:last-child) {
    border-bottom: 3px solid #d1d5db; /* æ›´ç²—çš„åˆ†éš”çº¿ */
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1); /* æ›´æ˜æ˜¾çš„é˜´å½± */
}

.rank-row:last-child {
    border-bottom: none;
}

/* äº¤æ›¿èƒŒæ™¯è‰² */
.rank-row:nth-child(even) {
    background: var(--rank-bg-secondary);
}

.rank-row:nth-child(odd) {
    background: var(--rank-bg-primary);
}

/* æ‚¬åœæ•ˆæœ */
.rank-row:hover {
    background: var(--rank-bg-secondary) !important;
}


/* åŸºç¡€åˆ—æ ·å¼ */
.rank-col-rank,
.rank-col-solve,
.rank-col-penalty,
.rank-col-problem {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

/* æ’ååˆ— */
.rank-col-rank {
    width: var(--rank-col-width);
}

/* é¢˜æ•°åˆ— */
.rank-col-solve {
    width: var(--rank-solve-col-width);
}

/* ç½šæ—¶åˆ— */
.rank-col-penalty {
    width: var(--rank-penalty-col-width);
}

/* é¢˜ç›®åˆ— */
.rank-col-problem {
    width: var(--rank-problem-col-width);
    overflow: visible; /* å…è®¸ä¸€è¡€æ˜Ÿæ˜Ÿè¶…å‡ºåˆ—èŒƒå›´ */
}

/* ä¸»ä½“å†…å®¹åŒº */
.rank-main-content {
    display: flex;
    flex-direction: column;
    min-width: 0;
    flex: 1; /* å æ»¡å‰©ä½™ç©ºé—´ */
    overflow-x: visible; /* å…è®¸å†…å®¹æº¢å‡º */
    position: relative; /* ä¸ºç»å¯¹å®šä½çš„èƒŒæ™¯æä¾›å®šä½ä¸Šä¸‹æ–‡ */
    padding-top: 0; /* åˆå§‹æ— padding */
}

/* ä¸ŠåŠéƒ¨åˆ†ï¼šæ•™ç»ƒé€‰æ‰‹ + æ ¡åé˜Ÿå - ç»å¯¹å®šä½ï¼Œä¸å½±å“çˆ¶å®¹å™¨å®½åº¦ */
.top-section {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    display: flex;
    align-items: flex-start;
    z-index: 3; /* ç¡®ä¿åœ¨èƒŒæ™¯ä¹‹ä¸Š */
    pointer-events: none;
    gap: var(--rank-col-gap);
}

/* ä¸ºtop-sectionå†…å®¹æ¢å¤äº¤äº’ */
.top-section > * {
    pointer-events: auto;
}

/* æ•™ç»ƒé€‰æ‰‹ä¿¡æ¯åŒºï¼ˆæ¨ªè·¨å‰ä¸‰åˆ—ï¼‰ - é€æ˜èƒŒæ™¯ä¸é®æŒ¡æ ¡å¾½ */
.coach-player-section {
    flex: 0 0 calc(var(--rank-col-width) + var(--rank-solve-col-width) + var(--rank-penalty-col-width) + 2 * var(--rank-col-gap)); /* ç²¾ç¡®è®¡ç®—ä¸‰åˆ—å®½åº¦ */
    display: flex;
    flex-direction: column;
    gap: 2px; /* å‡å°‘è¡Œé—´è· - ç‰¹æ®Šå€¼ä¿æŒ */
    border-radius: var(--rank-border-radius); /* æ›´åœ†æ¶¦çš„åœ†è§’ */
    background: transparent; /* é€æ˜èƒŒæ™¯ï¼Œä¸é®æŒ¡æ ¡å¾½ */
    box-shadow: 0 1px 3px rgba(0,0,0,0.05); /* é™ä½é˜´å½±ï¼Œå‡å°‘å‰²è£‚æ„Ÿ */
    overflow: hidden; /* è¶…å‡ºéƒ¨åˆ†éšè— */
    position: relative; /* ä¸ºæ¸éšæ•ˆæœæä¾›å®šä½ä¸Šä¸‹æ–‡ */
    z-index: 4; /* ç¡®ä¿å†…å®¹åœ¨èƒŒæ™¯ä¹‹ä¸Š */
    border: 1px solid rgba(255,255,255,0.3); /* æ›´é€æ˜çš„è¾¹æ¡† */
}

.coach-player-section::before {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    width: 20px;
    height: 100%;
    background: linear-gradient(90deg, rgba(248,249,250,0), rgba(248,249,250,0.9));
    pointer-events: none;
    z-index: 10;
    border-radius: 0 8px 8px 0; /* ä¸çˆ¶å®¹å™¨åœ†è§’ä¿æŒä¸€è‡´ */
}

/* æ•™ç»ƒä¿¡æ¯ */
.coach-info, .player-info {
    display: flex;
    align-items: center;
    gap: var(--rank-col-gap); /* å‡å°‘æ ‡ç­¾å’Œå§“åé—´è· */
    height: 20px; /* å›ºå®šè¡Œé«˜ï¼Œä¸ä¸»å‰¯é˜Ÿåå¯¹é½ */
}

/* æ•™ç»ƒé€‰æ‰‹å›¾æ ‡ */
.coach-icon, .player-icon {
    font-size: var(--rank-font-size-2xl);
    display: flex;
    align-items: center;
    justify-content: center;
    width: 20px;
    height: 20px;
    flex-shrink: 0;
    cursor: pointer;
    border-radius: 3px;
    transition: background-color 0.2s;
    color: #6b7280;
}

.coach-icon:hover, .player-icon:hover {
    background-color: rgba(0, 0, 0, 0.05);
    color: #374151;
}

/* æ•™ç»ƒé€‰æ‰‹å›¾æ ‡æ ·å¼ */
.coach-icon .rank-icon, .player-icon .rank-icon {
    font-size: var(--rank-font-size-lg);
}

/* æ§åˆ¶æŒ‰é’®å›¾æ ‡æ ·å¼ */
.control-btn .rank-icon, .fold-btn .rank-icon {
    font-size: var(--rank-font-size-2xl);
    margin: 0;
}


/* ä¸‹æ‹‰é€‰æ‹©å›¾æ ‡æ ·å¼ */

.team-type-icon {
    font-size: var(--rank-font-size-3xl);
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    color: #6b7280;
}

.team-type-icon.regular {
    color: #3b82f6; /* è“è‰² - å¸¸è§„é˜Ÿ */
}

.team-type-icon.girl {
    color: #ec4899; /* ç²‰è‰² - å¥³é˜Ÿ */
}

.team-type-icon.star {
    color: #f59e0b; /* æ©™è‰² - æ‰“æ˜Ÿé˜Ÿ */
}

/* æ•™ç»ƒã€é€‰æ‰‹ å§“å - ä¸å‰¯é˜Ÿåæ ·å¼ä¸€è‡´ */
.coach-name, .player-name {
    font-size: var(--rank-font-size-md); /* ä¸å‰¯é˜Ÿåç›¸åŒå­—å· */
    font-weight: 500;
    color: var(--rank-text-secondary); /* ä¸å‰¯é˜Ÿåç›¸åŒé¢œè‰² */
    line-height: 1; /* ä¸å‰¯é˜Ÿåç›¸åŒè¡Œé«˜ */
    white-space: nowrap;
    flex: 1;
    min-width: 0;
}

/* å ä½ç³»ç»Ÿæ ·å¼ - é‡‘é»„è‰²æ–‡å­— */
.tinfo-placeholder {
    color: #D4AF37 !important; 
    opacity: 0.8;
}

/* ä¸»é˜Ÿåå ä½ - ä¸­è‹±åŒè¯­ */
.team-name-cn.tinfo-placeholder::after {
    content: 'é˜Ÿå TeamName';
}

/* å‰¯é˜Ÿåå ä½ - èŠ±çº¹è£…é¥° */
.team-name-en.tinfo-placeholder::after {
    content: 'â—Š â—‡ â—Š â—‡ â—Š';
}


/* æ•™ç»ƒé€‰æ‰‹å ä½èŠ±çº¹ */
.coach-name.tinfo-placeholder::after {
    content: 'â—Š â—‡ â—Š';
}
.player-name.tinfo-placeholder::after {
    content: 'â—Š â—‡ â—Š â—Š â—‡ â—Š â—Š â—‡ â—Š';
}

/* æ•´ä½“å ä½èŠ±çº¹ */
.coach-player-placeholder::after {
    content: 'â—Š â—‡ â—Š â—‡ â—Š';
}

/* ä¸»é˜Ÿåå ä½å†…å®¹ */
.team-name-cn.tinfo-placeholder::after {
    content: 'é˜Ÿå TeamName';
}

/* å‰¯é˜Ÿåå ä½èŠ±çº¹ */
.team-name-en.tinfo-placeholder::after {
    content: 'â—Š â—‡ â—Š â—‡ â—Š';
}
.school-name.tinfo-placeholder::after {
    content: 'ğŸ«';
}
/* å¤„ç†æ•™ç»ƒæˆ–é€‰æ‰‹ä¿¡æ¯ç¼ºå¤±çš„æƒ…å†µ */
.coach-info:empty,
.player-info:empty {
    display: none;
}

/* å½“åªæœ‰æ•™ç»ƒæˆ–åªæœ‰é€‰æ‰‹æ—¶ï¼Œè°ƒæ•´å¸ƒå±€ */
.coach-player-section:has(.coach-info:not(:empty)):not(:has(.player-info:not(:empty))) .coach-info {
    flex: 1;
    justify-content: center;
}

.coach-player-section:has(.player-info:not(:empty)):not(:has(.coach-info:not(:empty))) .player-info {
    flex: 1;
    justify-content: center;
}

/* é˜Ÿä¼ä¿¡æ¯åŒºï¼ˆå³ä¾§ï¼‰ - Panelé£æ ¼ */
.team-info-section {
    flex: 1;
    display: block;
    min-width: 0;
    overflow: hidden;
    border-radius: var(--rank-border-radius); 
    background: transparent;
    box-shadow: 0 1px 3px rgba(0,0,0,0.05); /* é™ä½é˜´å½±ï¼Œå‡å°‘å‰²è£‚æ„Ÿ */
    position: relative; /* ä¸ºæ¸éšæ•ˆæœæä¾›å®šä½ä¸Šä¸‹æ–‡ */
    border: 1px solid rgba(255,255,255,0.3); /* é™ä½è¾¹æ¡†é€æ˜åº¦ï¼Œå‡å°‘å‰²è£‚æ„Ÿ */
}

.team-info-section::before {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    width: 40px; /* å¢åŠ æ¸éšå®½åº¦ */
    background: linear-gradient(90deg, rgba(248,249,250,0), rgba(248,249,250,0.9));
    z-index: 10; /* æé«˜å±‚çº§ï¼Œç¡®ä¿è¦†ç›–æ‰€æœ‰å†…å®¹ */
    pointer-events: none;
    border-radius: 0 8px 8px 0; /* ä¸çˆ¶å®¹å™¨åœ†è§’ä¿æŒä¸€è‡´ */
}

/* é˜Ÿä¼ä¿¡æ¯å®¹å™¨ - ä½¿ç”¨è¡¨æ ¼å¸ƒå±€æ¨¡æ‹ŸExcelåˆå¹¶å•å…ƒæ ¼ */
.team-info {
    display: grid !important; /* å¼ºåˆ¶ä½¿ç”¨gridå¸ƒå±€ */
    grid-template-columns: auto auto auto 1fr; /* é˜Ÿä¼ç±»å‹ã€æ——å¸œã€å­¦æ ¡ã€é˜Ÿå */
    grid-template-rows: 1fr 1fr; /* ä¸¤è¡Œ */
    gap: var(--rank-padding-sm);
    width: 100%;
    min-width: 0; /* å…è®¸æ”¶ç¼© */
    align-items: center;
    flex-shrink: 1; /* å…è®¸æ”¶ç¼© */
    position: relative; /* ä¸ºæ¸éšæ•ˆæœæä¾›å®šä½ä¸Šä¸‹æ–‡ */
    max-width: 100%; /* é™åˆ¶æœ€å¤§å®½åº¦ï¼Œé˜²æ­¢è¶…å‡º */
    box-sizing: border-box; /* ç¡®ä¿å®½åº¦è®¡ç®—æ­£ç¡® */
}

/* é˜Ÿä¼ç±»å‹ - è·¨ä¸¤è¡Œ */
.team-type-icon {
    grid-row: 1 / 3; /* è·¨ä¸¤è¡Œ */
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: var(--rank-font-size-3xl); /* å¢å¤§å­—å· */
    flex-shrink: 0;
    width: 32px; /* å¢å¤§å°ºå¯¸ */
    height: 32px;
}

/* æ——å¸œ - è·¨ä¸¤è¡Œ */
.flag-icon {
    grid-row: 1 / 3; /* è·¨ä¸¤è¡Œ */
    width: 24px; /* å¢å¤§å°ºå¯¸ */
    height: 18px;
    border-radius: 2px;
    box-shadow: 0 0 0 1px rgba(0,0,0,.15);
    object-fit: cover;
    flex-shrink: 0;
}

/* å­¦æ ¡å - è·¨ä¸¤è¡Œ */
.school-name {
    grid-row: 1 / 3; /* è·¨ä¸¤è¡Œ */
    font-size: 1.4rem; /* å¢å¤§å­—å· */
    font-weight: 800;
    color: #111827;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: clip;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    flex-shrink: 0;
    min-width: 0;
}

/* team_idæ˜¾ç¤ºæ ·å¼ - ä¸æ ¡åæ ·å¼ä¸€è‡´ */
.team-id-display {
    font-weight: inherit;
    font-size: inherit;
    color: inherit;
}

.team-id-separator {
    margin: 0 4px;
    color: var(--rank-color-primary);
    opacity: 1;
    font-weight: var(--rank-font-weight-semibold);
}

.team-names {
    border-left: 2px solid var(--rank-color-primary); /* é™ä½è¾¹æ¡†ç²—ç»†ï¼Œå‡å°‘å‰²è£‚æ„Ÿ */
    padding-left: var(--rank-padding-sm);
    /* #3498db; */
}

/* é˜Ÿä¼åç§°å®¹å™¨ - å ä¸¤è¡Œ */
.team-names {
    grid-row: 1 / 3; /* è·¨ä¸¤è¡Œ */
    display: flex;
    flex-direction: column;
    width: 100%;
    min-width: 0;
}

/* ä¸»é˜Ÿåæ ·å¼ */
.team-name-cn {
    font-size: 18px;
    font-weight: 800;
    color: #111827;
    white-space: nowrap;
    position: relative;
    width: 100%;
    text-align: left;
    display: flex;
    align-items: center;
    min-height: 21px;
    flex-shrink: 0;
}

/* å‰¯é˜Ÿåæ ·å¼ */
.team-name-en {
    font-size: var(--rank-font-size-md);
    font-weight: 500;
    color: #6b7280;
    font-style: italic;
    line-height: 1;
    white-space: nowrap;
    position: relative;
    width: 100%;
    text-align: left;
    display: flex;
    align-items: center;
    min-height: 0;
    flex-shrink: 0;
}

/* ç»Ÿè®¡åŒºåŸŸ - å†³å®šçˆ¶å®¹å™¨å®½åº¦ */
.stats-section {
    display: flex;
    align-items: center;
    gap: var(--rank-col-gap);
    padding: var(--rank-padding-xs) 0;
    min-width: max-content;
    flex-shrink: 0;
    /* ä¸ºtop-sectionè®©å‡ºç©ºé—´ */
    margin-top: 45px; /* æ ¹æ®top-sectionçš„å®é™…é«˜åº¦è°ƒæ•´ */
}

/* å‰ä¸‰åˆ—èƒŒæ™¯åŒºåŸŸ - æ¨ªè·¨ä¸‰åˆ—çºµè·¨ä¸¤è¡Œ */
.school-logo {
    position: absolute;
    top: 0;
    left: 0;
    width: calc(var(--rank-col-width) + var(--rank-solve-col-width) + var(--rank-penalty-col-width) + 2 * var(--rank-col-gap));
    height: 100%; /* è¦†ç›–top-sectionçš„é«˜åº¦ */
    background-size: 128px auto; /* å®½åº¦100%ï¼Œé«˜åº¦ç­‰æ¯”ç¼©æ”¾ */
    background-position: right top;
    background-repeat: no-repeat;
    opacity: 0.15; /* åŠé€æ˜èƒŒæ™¯ */
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 1;
    pointer-events: none;
    overflow: visible; /* å…è®¸è¶…å‡ºèŒƒå›´ */
    image-rendering: -webkit-optimize-contrast; /* WebKitä¼˜åŒ– */
    image-rendering: crisp-edges; /* ä¿æŒè¾¹ç¼˜æ¸…æ™° */
    image-rendering: pixelated; /* åƒç´ åŒ–æ¸²æŸ“ï¼Œé€‚åˆå°å›¾æ ‡ */
}

/* å½“æœ‰èƒŒæ™¯å›¾ç‰‡æ—¶ï¼Œä½¿ç”¨CSSå˜é‡ */
.school-logo.has-background {
    background-image: var(--rank-school-logo-bg);
}

/* ç»Ÿè®¡è¡Œ - åŒ…å«é¢˜æ•°ã€ç½šæ—¶ã€é¢˜ç›®ç»„ */
/* æ’åã€é¢˜æ•°ã€ç½šæ—¶åˆ— - æ•°æ®éƒ¨åˆ†ï¼Œé€æ˜èƒŒæ™¯ä¸é®æŒ¡æ ¡å¾½ */
.rank-col-rank, .rank-col-solve, .rank-col-penalty {
    flex: 0 0 var(--rank-col-width);
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: var(--rank-border-radius); /* æ›´åœ†æ¶¦çš„åœ†è§’ */
    font-weight: bold;
    color: #333;
    position: relative;
    z-index: 4; /* ç¡®ä¿å†…å®¹åœ¨èƒŒæ™¯å’Œtop-sectionä¹‹ä¸Š */
    background: transparent; /* é€æ˜èƒŒæ™¯ï¼Œä¸é®æŒ¡æ ¡å¾½ */
    box-shadow: 0 2px 6px rgba(0,0,0,0.06), 0 1px 2px rgba(0,0,0,0.08); /* ç²¾ç¾é˜´å½± */
    border: 1px solid rgba(255,255,255,0.3); /* æ›´é€æ˜çš„è¾¹æ¡† */
}

.rank-col-solve {
    flex: 0 0 var(--rank-solve-col-width);
}

.rank-col-penalty {
    flex: 0 0 var(--rank-penalty-col-width);
}

.stats-row {
    display: flex;
    gap: var(--rank-padding-xs);
    align-items: center;
    width: 100%;
    min-width: max-content; /* é˜²æ­¢å†…å®¹è¢«å‹ç¼© */
    flex-wrap: nowrap; /* ç¦æ­¢æ¢è¡Œ */
    justify-content: flex-start; /* å·¦å¯¹é½ï¼Œä¸å¯¹é½è¡¨å¤´ */
}

/* åŸºç¡€é¡¹ç›®æ ·å¼ */
.rank-item, .solve-item, .penalty-item, .problem-item {
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: var(--rank-border-radius-small);
    font-weight: var(--rank-font-weight-extrabold);
    position: relative;
    transition: var(--rank-transition-fast);
    user-select: none;
    flex-shrink: 0;
    overflow: hidden;
    height: var(--rank-stats-height);
}

/* æ’åæ–¹æ¡†æ ·å¼ */
.rank-item {
    background: var(--rank-bg-secondary);
    color: var(--rank-text-secondary);
    border: 1px solid var(--rank-border-light);
    width: var(--rank-col-width);
    font-size: var(--rank-font-size-2xl);
    font-weight: var(--rank-font-weight-black);
}

/* è§£é¢˜æ•°æ–¹æ¡†æ ·å¼ */
.solve-item {
    background: transparent;
    color: #0c4a6e; /* æ·±è“è‰²æ–‡å­—ï¼Œå¢å¼ºå¯¹æ¯”åº¦ */
    border: 2px solid #0ea5e9; /* è“è‰²è¾¹æ¡†ï¼Œæ›´é†’ç›® */
    width: var(--rank-solve-col-width);
    font-size: var(--rank-font-size-2xl);
    font-weight: var(--rank-font-weight-black);
}

/* ç½šæ—¶æ–¹æ¡†æ ·å¼ */
.penalty-item {
    background: transparent;
    color: #9a3412; /* æ·±æ©™è‰²æ–‡å­—ï¼Œå¢å¼ºå¯¹æ¯”åº¦ */
    border: 2px solid #ea580c; /* æ©™è‰²è¾¹æ¡†ï¼Œæ›´é†’ç›® */
    width: var(--rank-penalty-col-width);
    font-size: var(--rank-font-size-2xl);
    font-weight: var(--rank-font-weight-black);
}

/* é¢˜ç›®æ–¹æ¡†æ ·å¼ */
.problem-item {
    width: var(--rank-problem-col-width);
    font-size: var(--rank-font-size-2xl);
    font-weight: var(--rank-font-weight-black);
}


/* ç½šæ—¶å†…å®¹æ ·å¼ */
.penalty-content {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
    font-size: var(--rank-font-size-2xl);
    font-weight: var(--rank-font-weight-black);
    font-variant-numeric: tabular-nums;
    position: relative;
}

/* ç½šæ—¶æ—¶é—´æ˜¾ç¤º */
.penalty-time-brief {
    font-size: var(--rank-font-size-2xl);
    font-weight: var(--rank-font-weight-black);
    color: #055160;
    font-variant-numeric: tabular-nums;
    text-align: center;
    transition: var(--rank-transition-normal);
}

.penalty-time-full {
    display: none;
    font-size: var(--rank-font-size-2xl);
    font-weight: var(--rank-font-weight-black);
    color: #055160;
    font-variant-numeric: tabular-nums;
    text-align: center;
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    letter-spacing: 0.02em;
    transition: var(--rank-transition-normal);
    width: 100%;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}

/* é¢˜ç›®ç»„å®¹å™¨ã€é¢˜ç›®è¡¨å¤´å®¹å™¨ */
.problem-group, .pro-header-group {
    display: flex;
    gap: var(--rank-col-gap);
    flex-wrap: nowrap;
    min-width: 0;
    overflow: visible; /* å…è®¸ä¸€è¡€æ˜Ÿæ˜Ÿè¶…å‡ºé¢˜ç›®ç»„èŒƒå›´ */
}
/* æ ¡åç»Ÿè®¡åˆ— - åŒ…å«æ ¡åã€åœ°åŒºåã€é¢˜æ•°ã€ç½šæ—¶ï¼Œå¸¦æ ¡å¾½èƒŒæ™¯ */
.school-stats-column {
    width: calc(var(--rank-solve-col-width) + var(--rank-penalty-col-width) + var(--rank-col-gap));
    min-width: 0;
    flex-shrink: 0; /* é˜²æ­¢è¢«å‹ç¼© */
    position: relative;
    overflow: display;
    height: 100%;
}



/* é˜Ÿåé¢˜ç›®åˆ— - åŒ…å«é˜Ÿåã€å‰¯é˜Ÿåã€é¢˜ç›®ç»„ */
.team-problems-column {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 0;
    min-width: 0;
    overflow: hidden; /* é˜²æ­¢å†…å®¹è¶…å‡º */
    width: 0; /* å¼ºåˆ¶flexæ”¶ç¼©ï¼Œç¡®ä¿å®½åº¦è®¡ç®—æ­£ç¡® */
}

/* æ—§çš„æ ·å¼å·²ç§»é™¤ï¼Œä½¿ç”¨æ–°çš„gridå¸ƒå±€ */

/* åœ°åŒºååŒºåŸŸ - åœ¨æ–°å¸ƒå±€ä¸­å æ»¡çˆ¶å®¹å™¨å®½åº¦ */
.region-info {
    width: 100%;
    min-width: 0;
    display: flex;
    align-items: center;
    justify-content: center; /* æ——å¸œå’Œåœ°åŒºåä¸€èµ·å±…ä¸­ */
    gap: 6px;
    height: 10px; /* å›ºå®šå°é«˜åº¦ï¼Œå³ä½¿ä¸ºç©ºä¹Ÿä¿æŒä¸€è‡´ */
}

/* æ——å¸œæ˜¾ç¤ºçŠ¶æ€ - é€šè¿‡JavaScriptæ·»åŠ showç±»æ§åˆ¶ */
.flag-icon.show {
    display: inline-block;
}

.rank-row:hover {
    background: linear-gradient(135deg, var(--rank-bg-secondary) 0%, var(--rank-bg-primary) 100%);
    transform: translate(0, -2px);
    box-shadow: var(--rank-shadow-lg);
}

.rank-row.judging {
    background: linear-gradient(135deg, #fff3cd, #ffeaa7);
    /* border-left: 4px solid #f39c12; */
    box-shadow: inset 0 0 10px rgba(243, 156, 18, 0.2);
}

.rank-row.judging-last {
    background: linear-gradient(135deg, #d4edda, #c3e6cb);
    /* border-left: 4px solid #27ae60; */
    box-shadow: inset 0 0 10px rgba(39, 174, 96, 0.2);
}

/* æ’åæ•°å­—æ ·å¼ */
.rank-number {
    width: var(--rank-col-width);
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    border-radius: 6px;
    font-size: var(--rank-font-size-2xl); /* è°ƒæ•´ä»¥é€‚é…å››ä½æ•° */
    font-weight: 800;
    line-height: 1;
}

/* æ’åæ–¹æ¡†æ ·å¼ - ä½¿ç”¨Bootstrap 5è‰²ç³» */
.rank-item {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    width: var(--rank-col-width);
    height: var(--rank-stats-height);
    border-radius: var(--rank-border-radius-small);
    font-weight: var(--rank-font-weight-extrabold);
    position: relative;
    transition: var(--rank-transition-fast);
    user-select: none;
    flex-shrink: 0;
    overflow: visible;
}

.rank-item.gold {
    background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); /* æ›´æ·±çš„é‡‘è‰²æ¸å˜ */
    color: #ffffff; /* ç™½è‰²æ–‡å­—ï¼Œå¢å¼ºå¯¹æ¯”åº¦ */
    border: 2px solid #b45309; /* æ›´æ·±çš„é‡‘è‰²è¾¹æ¡† */
    box-shadow: 0 2px 8px rgba(180, 83, 9, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.3);
}

.rank-item.silver {
    background: linear-gradient(135deg, #6c757d 0%, #495057 100%); /* æ·±ç°è‰²æ¸å˜ï¼Œç‰¹åŒ–é“¶å¥– */
    color: #ffffff; /* ç™½è‰²æ–‡å­—ï¼Œå¢å¼ºå¯¹æ¯”åº¦ */
    border: 2px solid #343a40; /* æ·±ç°è‰²è¾¹æ¡† */
    box-shadow: 0 2px 8px rgba(52, 58, 64, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.2);
}

.rank-item.bronze {
    background: linear-gradient(135deg, #d97706 0%, #b45309 100%); /* æ›´æ·±çš„é“œè‰²æ¸å˜ */
    color: #ffffff; /* ç™½è‰²æ–‡å­—ï¼Œå¢å¼ºå¯¹æ¯”åº¦ */
    border: 2px solid #92400e; /* æ›´æ·±çš„é“œè‰²è¾¹æ¡† */
    box-shadow: 0 2px 8px rgba(146, 64, 14, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.3);
}

.rank-item.star {
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); /* Bootstrap 5 gray-100 */
    color: #6c757d; /* Bootstrap 5 gray-600 */
    border: 2px solid #adb5bd; /* Bootstrap 5 gray-400 */
    box-shadow: 0 2px 8px rgba(173, 181, 189, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.3);
}

/* æ— å¥–æ’åç‰¹åŒ–æ ·å¼ - ä¸é¢˜ç›®åˆ—åŒºåˆ† */
.rank-item:not(.gold):not(.silver):not(.bronze):not(.star) {
    background: var(--rank-bg-tertiary); /* çº¯è‰²æµ…ç°èƒŒæ™¯ */
    color: #495057; /* æ·±ç°è‰²æ–‡å­—ï¼Œå¢å¼ºå¯¹æ¯”åº¦ */
    border: 2px solid #dee2e6; /* æµ…ç°è‰²è¾¹æ¡† */
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1), inset 0 1px 0 rgba(255, 255, 255, 0.8);
}

/* æ’åemojiæ ·å¼ - ç²¾ç¾æ°´å°æ•ˆæœ */
.rank-emoji {
    position: absolute;
    left: 50%;
    top: 20%;
    transform: translate(-50%, -100%) scale(3);
    font-size: 24px;
    opacity: 0.1;
    z-index: 1;
    pointer-events: none;
    text-shadow: 0 0 12px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
}

/* å¥–ç‰Œæ°´å°é…è‰²å·®å¼‚ */
.rank-item.gold .rank-emoji {
    text-shadow: 0 0 15px rgba(255, 215, 0, 0.25);
}

.rank-item.silver .rank-emoji {
    text-shadow: 0 0 12px rgba(192, 192, 192, 0.2);
}

.rank-item.bronze .rank-emoji {
    text-shadow: 0 0 13px rgba(205, 127, 50, 0.22);
}

.rank-item.star .rank-emoji {
    text-shadow: 0 0 10px rgba(255, 215, 0, 0.15);
    transform: translate(-50%, -50%) scale(2);
}

/* æ’åæ•°å­—æ ·å¼ - æ°´å¹³å±…ä¸­ï¼Œå¯è¦†ç›–emoji */
.rank-number {
    position: relative;
    z-index: 2;
    font-size: var(--rank-font-size-2xl);
    font-weight: var(--rank-font-weight-black);
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
}



.problem-item:hover {
    transform: translateY(-1px);
    box-shadow: var(--rank-shadow-lg);
    z-index: 10;
}

/* status with pro- prefix to avoid global collisions */

/* é¢˜ç›®çŠ¶æ€æ ·å¼ - æ·±è‰²ç³» */
.problem-item.pro-ac {
    background: #198754; /* Bootstrap5 success-600 æ·±ç»¿è‰² */
    color: var(--rank-text-white); /* ç™½è‰²æ–‡å­— */
    border: 1px solid #146c43; /* æ›´æ·±çš„ç»¿è‰²è¾¹æ¡† */
}

.problem-item.pro-wa {
    background: #dc3545; /* Bootstrap5 danger-600 æ·±çº¢è‰² */
    color: var(--rank-text-white); /* ç™½è‰²æ–‡å­— */
    border: 1px solid #b02a37; /* æ›´æ·±çš„çº¢è‰²è¾¹æ¡† */
}

.problem-item.pro-pending {
    background: #ffb300; /* Amber-600 åé»„çš„æ©™è‰²ï¼Œæ¯” #ffc107 ç¨æ·± */
    color: var(--rank-text-white); /* ç™½è‰²æ–‡å­— */
    border: 1px solid #ffa000; /* Amber-700 æ·±ä¸€ç‚¹çš„åé»„æ©™è‰²è¾¹æ¡† */
}

.problem-item.pro-none {
    background: #adb5bd; /* Bootstrap5 gray-600 æ·±ç°è‰² */
    color: var(--rank-text-primary) !important; 
    border: 1px solid var(--rank-bg-tertiary); 
}
.problem-item.pro-none .pro-submit-cnt {
    color: black;
    text-shadow: none;
}

.problem-item.pro-first-blood {
    box-shadow: 0 0 0 2px #facc15, var(--rank-shadow-md);
    border-color: #f59e0b;
}

/* Regular ä¸€è¡€æ ·å¼ - è“è‰²èƒŒæ™¯ï¼Œè¦†ç›–ACç»¿è‰² */
.problem-item.pro-first-blood-regular {
    background: #007bff !important; /* è“è‰²èƒŒæ™¯ */
    color: var(--rank-text-white) !important; /* ç™½è‰²æ–‡å­— */
    border: 1px solid #0056b3 !important; /* æ·±è“è‰²è¾¹æ¡† */
    box-shadow: var(--rank-shadow-md);
}

/* Global ä¸€è¡€æ ·å¼ - å³ä¸Šè§’å°é»„æ˜Ÿ */
.problem-item.pro-first-blood-global {
    position: relative;
    overflow: visible; /* å…è®¸å†…å®¹è¶…å‡ºå®¹å™¨ */
}

.problem-item.pro-first-blood-global::after {
    content: 'â˜…';
    position: absolute;
    top: -16px; /* æ›´å¤§å¹…åº¦è¶…å‡ºæ–¹æ¡†èŒƒå›´ */
    right: -10px; /* æ›´å¤§å¹…åº¦è¶…å‡ºæ–¹æ¡†èŒƒå›´ */
    font-size: 20px;
    color: #ffc107;
    background: none; /* æ— èƒŒæ™¯è‰² */
    width: auto;
    height: auto;
    display: block;
    z-index: 9999; /* æ›´é«˜çš„z-indexç¡®ä¿åœ¨æœ€ä¸Šå±‚ */
    font-weight: bold;
    pointer-events: none; /* ä¸å“åº”é¼ æ ‡äº‹ä»¶ */
    /* ä¸å æ®ç©ºé—´ï¼Œå¯ä»¥ä¸å…¶ä»–å…ƒç´ é‡å  */
    margin: 0;
    padding: 0;
    border: none;
    box-shadow: none; /* ç§»é™¤å‘å…‰æ•ˆæœ */
    text-shadow: none; /* ç§»é™¤æ–‡å­—é˜´å½± */
}

/* é¢˜ç›®å†…å®¹æ ·å¼ */
.problem-content {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0;
    width: 100%;
    height: 100%;
    padding: 0 var(--rank-padding-sm);
    position: relative;
}
/* æäº¤æ¬¡æ•° */
.pro-submit-cnt {
    font-size: var(--rank-font-size-2xl);
    font-weight: var(--rank-font-weight-black);
    color: var(--rank-text-white);
    font-variant-numeric: tabular-nums;
    text-align: right;
    transition: var(--rank-transition-normal);
    flex-shrink: 0;
    text-shadow: 0 1px 2px rgba(0,0,255,0.45), 0 0px 4px rgba(0,0,255,0.45);
}

/* åˆ†éš”ç¬¦ */
.problem-separator {
    font-size: var(--rank-font-size-2xl);
    color: var(--rank-text-white);
    margin: 0 5px;
    font-weight: var(--rank-font-weight-normal);
    opacity: 0.8;
    transition: var(--rank-transition-normal);
}

/* æ—¶é—´æ˜¾ç¤º */
.time-brief {
    font-size: var(--rank-font-size-2xl);
    font-weight: var(--rank-font-weight-black);
    color: var(--rank-text-white);
    font-variant-numeric: tabular-nums;
    text-align: left;
    transition: var(--rank-transition-normal);
    flex-shrink: 0;
    text-shadow: 0 1px 2px rgba(255,0,0,0.7), 0 0px 4px rgba(255,0,0,0.45);
}

/* æ‚¬åœæ—¶æ˜¾ç¤ºå®Œæ•´æ—¶é—´ */
.problem-item .time-brief,
.problem-item .time-full {
    display: inline-block;
    white-space: nowrap;
}

.problem-item .time-brief {
    opacity: 1;
    visibility: visible;
}

.problem-item .time-full {
    display: none;
    opacity: 0;
    visibility: hidden;
    font-size: var(--rank-font-size-sm);
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    letter-spacing: 0.02em;
    text-align: center;
    width: 100%;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}

/* penalty-itemçš„time-briefå’Œtime-fullé»˜è®¤çŠ¶æ€ */
.penalty-item .penalty-time-brief {
    opacity: 1;
    visibility: visible;
}

.penalty-item .penalty-time-full {
    display: none; /* é»˜è®¤éšè—å®Œæ•´æ—¶é—´ */
    opacity: 0;
    visibility: hidden;
}

.problem-item .pro-submit-cnt {
    opacity: 1;
    visibility: visible;
}

/* åŠ è½½è¦†ç›–å±‚ - ä½¿ç”¨ fixed å®šä½ç¡®ä¿åœ¨å…¨å±€å®šä½ä¸Šä¸‹æ–‡ä¸­ï¼Œé¿å…è¢« controls-toolbar é®æŒ¡ */
.rank-system .loading-overlay {
    position: fixed; /* æ”¹ä¸º fixedï¼Œç¡®ä¿åœ¨å…¨å±€å®šä½ä¸Šä¸‹æ–‡ä¸­ */
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(255,255,255,0.7);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 100010; /* æé«˜åˆ°æ¯” controls-toolbar (100001) æ›´é«˜ */
    backdrop-filter: blur(6px); 
}

.loading-spinner {
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--rank-padding-md);
    padding: 24px 32px;
    background: rgba(255,255,255,0.9);
    border: 1px solid rgba(0,0,0,0.06);
    border-radius: 12px;
    color: #111827;
    font-size: 18px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.15);
    animation: fadeIn 0.25s ease;
    z-index: 100011; /* ç¡®ä¿åœ¨ loading-overlay ä¹‹ä¸Š */
}

.rank-system .loading-spinner::before {
    content: "";
    width: 40px;
    height: 40px;
    border-radius: 50%;
    border: 3px solid #e5e7eb;
    border-top-color: #3b82f6;
    animation: spin 1s linear infinite;
}

@keyframes spin {
    to { transform: rotate(360deg); }
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(6px); }
    to { opacity: 1; transform: translateY(0); }
}

/* æ¨¡æ€æ¡† - è¦†ç›–æ•´ä¸ªçª—å£ï¼Œç±»ä¼¼Bootstrap 5 modal */
.modal-overlay {
    position: fixed; /* æ”¹ä¸ºfixedï¼Œè¦†ç›–æ•´ä¸ªè§†çª— */
    top: 0;
    left: 0;
    width: 100vw; /* è§†çª—å®½åº¦ */
    height: 100vh; /* è§†çª—é«˜åº¦ */
    background: rgba(0,0,0,0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 100003; /* Bootstrap 5 modalçš„z-index */
}

.modal-content {
    background: white;
    border-radius: var(--rank-border-radius); /* ä½¿ç”¨ç³»ç»Ÿåœ†è§’ */
    max-width: 90vw;
    max-height: 90vh;
    overflow: auto;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2), 0 4px 6px rgba(0, 0, 0, 0.1); /* å¢å¼ºé˜´å½±æ•ˆæœ */
    animation: modalSlideIn 0.3s ease;
    position: relative;
    display: flex;
    flex-direction: column;
    width: auto; /* æ”¹ä¸ºautoï¼Œè®©modalæ ¹æ®å†…å®¹è‡ªé€‚åº”å®½åº¦ */
    min-width: 300px; /* æœ€å°å®½åº¦ */
    pointer-events: auto;
    border: 1px solid rgba(255, 255, 255, 0.2); /* å¾®å¦™è¾¹æ¡† */
}

@keyframes modalSlideIn {
    from {
        opacity: 0;
        transform: translateY(-50px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.modal-header {
    padding: var(--rank-padding-lg);
    border-bottom: 2px solid #e5e7eb;
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
    border-radius: var(--rank-border-radius) var(--rank-border-radius) 0 0;
}

.modal-header h3 {
    margin: 0;
    color: #374151;
    font-weight: 600;
}

.close-btn {
    background: none;
    border: none;
    font-size: 24px;
    cursor: pointer;
    color: #6b7280;
    padding: 4px;
    width: 30px;
    height: 30px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 4px;
    transition: all 0.2s ease;
}

.close-btn:hover {
    color: #374151;
    background: rgba(0, 0, 0, 0.05);
}

.modal-body {
    padding: var(--rank-padding-lg);
}

/* æ»šæ¦œå¸®åŠ©æ¨¡æ€æ¡†ä¸“ç”¨æ ·å¼ - ç´§å‡‘å¸ƒå±€ï¼Œåˆ†ç±»å¹¶æ’ */
#roll-help-modal .modal-header {
    padding: 8px 16px 6px 16px; /* è¿›ä¸€æ­¥å‡å°‘å†…è¾¹è· */
    margin: 0;
    border-bottom: 1px solid #e0e0e0;
}

#roll-help-modal .modal-header h3 {
    margin: 0;
    font-size: 18px; /* å‡å°æ ‡é¢˜å­—ä½“ */
    font-weight: 600;
}

#roll-help-modal .modal-body {
    padding: 12px 20px 16px 20px; /* å‡å°‘å†…è¾¹è· */
    max-height: 85vh; /* é™åˆ¶æœ€å¤§é«˜åº¦ï¼Œé¿å…modalè¿‡é«˜ */
    overflow-y: auto; /* ä»…åœ¨å¿…è¦æ—¶æ˜¾ç¤ºæ»šåŠ¨æ¡ */
}

#roll-help-modal .modal-content {
    max-width: 95vw; /* å¢åŠ æœ€å¤§å®½åº¦ï¼Œæ›´å¥½åœ°åˆ©ç”¨å±å¹•ç©ºé—´ */
    width: auto;
    min-width: 800px; /* è®¾ç½®æœ€å°å®½åº¦ï¼Œç¡®ä¿æœ‰è¶³å¤Ÿçš„æ¨ªå‘ç©ºé—´ */
}

.roll-help-content {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 16px 24px; /* å‡å°‘åˆ—é—´è· */
    padding: 0;
}

.roll-help-section {
    display: flex;
    flex-direction: column;
    gap: 8px; /* å‡å°‘sectionå†…éƒ¨é—´è· */
}

.roll-help-section-title {
    font-size: 14px; /* å‡å°æ ‡é¢˜å­—ä½“ */
    font-weight: 700;
    color: #333;
    padding-bottom: 4px; /* å‡å°‘åº•éƒ¨å†…è¾¹è· */
    border-bottom: 2px solid #0d6efd;
    margin-bottom: 2px; /* å‡å°‘åº•éƒ¨å¤–è¾¹è· */
}

.roll-help-items {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 6px 12px; /* å‡å°‘è¡Œé—´è·å’Œåˆ—é—´è· */
}

.roll-help-item {
    display: flex;
    align-items: center;
    gap: 8px; /* å‡å°‘gap */
    font-size: 14px; /* å‡å°å­—ä½“ */
    font-weight: 500;
    padding: 4px 0; /* å‡å°‘ä¸Šä¸‹å†…è¾¹è· */
    color: #333;
    line-height: 1.3; /* å‡å°è¡Œé«˜ */
}

.roll-help-item code {
    font-size: 15px; /* å‡å°å¿«æ·é”®å­—æ¯å­—ä½“ */
    font-weight: 800; /* å­—æ¯åŠ ç²— */
    background-color: #f1f3f5;
    padding: 2px 8px; /* å‡å°‘å†…è¾¹è· */
    border-radius: 3px; /* å‡å°åœ†è§’ */
    color: #0d6efd;
    font-family: 'Courier New', 'Monaco', 'Consolas', monospace;
    min-width: 45px; /* å‡å°æœ€å°å®½åº¦ */
    text-align: center;
    flex-shrink: 0;
}

.roll-help-item span {
    line-height: 1.3; /* å‡å°è¡Œé«˜ */
    flex: 1;
}

/* ç»Ÿè®¡è¡¨æ ¼modalçš„ç‰¹æ®Šæ ·å¼ */
.modal-body:has(.summary-table) {
    padding: 16px; /* å‡å°‘å†…è¾¹è·ï¼Œè®©è¡¨æ ¼æ›´ç´§å‡‘ */
}

.modal-header:has(+ .modal-body .summary-table) {
    padding: 12px 16px; /* å‡å°‘headerå†…è¾¹è· */
}

/* ç»Ÿè®¡è¡¨æ ¼ - ç¾åŒ–æ ·å¼ */
.summary-table {
    width: auto; /* æ”¹ä¸ºautoï¼Œè®©è¡¨æ ¼æ ¹æ®å†…å®¹è‡ªé€‚åº” */
    min-width: 200px; /* æœ€å°å®½åº¦ */
    max-width: 90vw; /* æœ€å¤§å®½åº¦ä¸è¶…è¿‡è§†çª— */
    border-collapse: collapse;
    font-size: var(--rank-font-size-md);
    border-radius: var(--rank-border-radius);
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    background: white;
    table-layout: fixed; /* å›ºå®šè¡¨æ ¼å¸ƒå±€ï¼Œç¡®ä¿åˆ—å®½æ§åˆ¶ç”Ÿæ•ˆ */
}

.summary-table th,
.summary-table td {
    padding: 12px 8px;
    text-align: center;
    border: 1px solid #e5e7eb;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

/* æ§åˆ¶å„åˆ—å®½åº¦ */
.summary-table th:first-child,
.summary-table td:first-child {
    width: 80px; /* ç»“æœåˆ— */
    min-width: 80px;
    max-width: 80px;
}

.summary-table th:last-child,
.summary-table td:last-child {
    width: 80px; /* åˆè®¡åˆ— */
    min-width: 80px;
    max-width: 80px;
}

.summary-table th:not(:first-child):not(:last-child),
.summary-table td:not(:first-child):not(:last-child) {
    width: 60px; /* é¢˜ç›®åˆ— */
    min-width: 60px;
    max-width: 60px;
}

.summary-table th {
    background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
    font-weight: 600;
    color: #374151;
    border-bottom: 2px solid #d1d5db;
}

.summary-table tr:nth-child(even) {
    background: #f9fafb;
}

.summary-table tr:hover {
    background: #f3f4f6;
    transition: background-color 0.2s ease;
}

/* ç»Ÿè®¡è¡¨æ ¼åŒè¯­æ ‡é¢˜æ ·å¼ */
.summary-table th .bilingual-header {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 2px;
}

.summary-table th .bilingual-header .header-cn {
    font-size: var(--rank-font-size-md);
    font-weight: 600;
    color: #374151;
}

.summary-table th .bilingual-header .header-en {
    font-size: var(--rank-font-size-sm);
    font-weight: 500;
    color: #6b7280;
}

/* ============================================
   è·å¥–Modal - å¤§å±å¹•æŠ•å±ä¸“ç”¨ç²¾ç¾è®¾è®¡ï¼ˆå‚è€ƒæ—§ä»£ç ä¼˜åŒ–ï¼‰
   ============================================ */

/* Modalå®¹å™¨ - ä¼˜åŒ–16:9å±å¹•å¸ƒå±€ï¼Œå‡å°‘ç©ºç™½ */
.award-modal {
    /* æœ€å¤§å°ºå¯¸é™åˆ¶ï¼šä¸è¶…è¿‡è§†å£çš„96%å®½åº¦å’Œ90%é«˜åº¦ */
    max-width: 96vw;
    max-height: 90vh;
    
    /* æœ€å°é«˜åº¦é™åˆ¶ï¼šé¿å…è¶…å®½å±å¹•ä¸Šè¿‡äºæ‰å¹³ï¼ˆè‡³å°‘ä¸ºè§†å£é«˜åº¦çš„60%ï¼‰ */
    min-height: 60vh;
    
    /* å®½é«˜æ¯”é™åˆ¶ï¼š16:9 */
    aspect-ratio: 16 / 9;
    
    /* å®½åº¦è®¾ç½®é€»è¾‘ï¼š
     * 1. ä¼˜å…ˆä¿è¯æœ€å°é«˜åº¦ 60vhï¼Œå¯¹åº”çš„å®½åº¦ä¸º 60vh * 16/9
     * 2. ä½†å®½åº¦ä¸èƒ½è¶…è¿‡ 96vwï¼Œé«˜åº¦ä¸èƒ½è¶…è¿‡ 90vh
     * 3. å¦‚æœæŒ‰æœ€å°é«˜åº¦è®¡ç®—çš„å®½åº¦è¶…è¿‡ 96vwï¼Œåˆ™ä½¿ç”¨ 96vwï¼Œé«˜åº¦æŒ‰ 16:9 è®¡ç®—
     * 
     * è®¡ç®—å…¬å¼ï¼šå–ä»¥ä¸‹å€¼çš„æœ€å°å€¼ï¼Œç¡®ä¿ä¼˜å…ˆæ»¡è¶³æœ€å°é«˜åº¦è¦æ±‚
     * - 96vwï¼ˆæœ€å¤§å®½åº¦é™åˆ¶ï¼‰
     * - 90vh * 16/9ï¼ˆæœ€å¤§é«˜åº¦å¯¹åº”çš„å®½åº¦ï¼‰
     * - ä½†å¦‚æœ 60vh * 16/9 < 96vwï¼Œä¼˜å…ˆä½¿ç”¨ 60vh * 16/9
     * 
     * ç®€åŒ–ï¼šmin(96vw, 90vh * 16/9, max(60vh * 16/9, æŸä¸ªåˆç†çš„å€¼))
     * æœ€ç®€å½¢å¼ï¼šmin(96vw, max(60vh * 16/9, 90vh * 16/9))
     * ç”±äº max(60vh * 16/9, 90vh * 16/9) = 90vh * 16/9ï¼ˆå› ä¸º 90 > 60ï¼‰
     * æœ€ç»ˆï¼šmin(96vw, 90vh * 16/9)
     * 
     * ä½†è¿™æ ·åœ¨è¶…å®½å±å¹•ä¸Šå¯èƒ½é«˜åº¦å¤ªå¤§ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦ç¡®ä¿æœ€å°é«˜åº¦ï¼š
     * ä½¿ç”¨ min(96vw, max(60vh * 16/9, min(96vw, 90vh * 16/9)))
     * è¿™æ ·å¯ä»¥ï¼šå¦‚æœ 60vh * 16/9 <= 96vwï¼Œä½¿ç”¨ 60vh * 16/9ï¼›å¦åˆ™ä½¿ç”¨ min(96vw, 90vh * 16/9)
     */
    width: min(96vw, max(60vh * 16 / 9, min(96vw, 90vh * 16 / 9)));
    
    margin: auto;
    position: relative;
    border-radius: 24px;
    overflow: hidden;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
    animation: awardModalEnter 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
    background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
    display: flex;
    flex-direction: column;
}

@keyframes awardModalEnter {
    0% {
        opacity: 0;
        transform: scale(0.9) translateY(30px);
    }
    100% {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

/* å…³é—­æŒ‰é’® - å³ä¸Šè§’ï¼Œå¤§è€Œæ˜æ˜¾ */
.award-close-btn {
    position: absolute;
    top: 20px;
    right: 20px;
    width: 60px;
    height: 60px;
    border: none;
    background: rgba(255, 255, 255, 0.9);
    border-radius: 50%;
    font-size: 40px;
    font-weight: 300;
    color: #666;
    cursor: pointer;
    z-index: 10;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    transition: all 0.3s ease;
}

.award-close-btn:hover {
    background: rgba(255, 255, 255, 1);
    transform: scale(1.1);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
}

/* Modalå†…å®¹å®¹å™¨ - è‡ªé€‚åº”é«˜åº¦ï¼Œå‹ç¼©é—´è· */
.award-modal-content {
    padding: min(40px, 3vw) min(45px, 3.5vw) min(30px, 2.5vw); /* å“åº”å¼å†…è¾¹è· */
    display: flex;
    flex-direction: column;
    gap: min(30px, 2.5vw); /* å“åº”å¼é—´è· */
    flex: 1;
    overflow-y: auto; /* å¦‚æœå†…å®¹è¿‡å¤šï¼Œå…è®¸æ»šåŠ¨ */
    min-height: 0; /* å…è®¸flexå­å…ƒç´ ç¼©å° */
}

/* é¡¶éƒ¨è·å¥–ç­‰çº§å¤§æ ‡é¢˜ - å‚è€ƒæ—§ä»£ç ï¼Œä½†é€‚å½“ç¼©å° */
.award-level-title {
    text-align: center;
    font-size: 80px; /* è¿›ä¸€æ­¥ç¼©å°ä»¥é€‚åº”å±å¹• */
    font-weight: 900;
    letter-spacing: 6px;
    padding: 25px 35px; /* å‹ç¼©å†…è¾¹è· */
    border-radius: 16px;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
    position: relative;
    overflow: hidden;
    animation: awardTitleGlow 2s ease-in-out infinite;
    text-shadow: 4px 4px 8px rgba(0, 0, 0, 0.3);
    line-height: 1.1; /* å‹ç¼©è¡Œé«˜ */
}

.award-level-title::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(255, 255, 255, 0.3) 0%, transparent 70%);
    animation: awardTitleShine 3s linear infinite;
}

@keyframes awardTitleGlow {
    0%, 100% {
        filter: drop-shadow(0 0 10px currentColor);
    }
    50% {
        filter: drop-shadow(0 0 20px currentColor);
    }
}

@keyframes awardTitleShine {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(360deg);
    }
}

.award-level-title.gold {
    /* æ›´ä¼˜é›…çš„é‡‘è‰²ï¼šä½¿ç”¨æ·±é‡‘è‰²åˆ°æµ…é‡‘è‰²çš„æ¸å˜ï¼Œæ›´æœ‰è´¨æ„Ÿ */
    background: linear-gradient(135deg, #e6c200 0%, #ffd700 50%, #ffed4e 100%);
    color: #b8860b; /* æ·±é‡‘è‰²æ–‡å­—ï¼Œæ›´æœ‰å¯¹æ¯”åº¦ */
    text-shadow: 3px 3px 6px rgba(184, 134, 11, 0.4), 0 0 20px rgba(255, 215, 0, 0.3);
    box-shadow: 0 4px 20px rgba(255, 215, 0, 0.25);
}

.award-level-title.silver {
    /* æ›´ä¼˜é›…çš„é“¶è‰²ï¼šä½¿ç”¨æ·±ç°é“¶åˆ°äº®é“¶çš„æ¸å˜ï¼Œæ›´æœ‰é‡‘å±è´¨æ„Ÿ */
    background: linear-gradient(135deg, #6c757d 0%, #9ca3af 50%, #c0c0c0 100%);
    color: #2c3e50; /* æ·±ç°è“è‰²æ–‡å­—ï¼Œä¸é“¶è‰²èƒŒæ™¯å½¢æˆå¼ºçƒˆå¯¹æ¯” */
    text-shadow: 2px 2px 4px rgba(255, 255, 255, 0.8), 0 0 10px rgba(0, 0, 0, 0.3);
    box-shadow: 0 4px 20px rgba(108, 117, 125, 0.35);
}

.award-level-title.bronze {
    /* æ›´ä¼˜é›…çš„é“œè‰²ï¼šä½¿ç”¨æ·±é“œè‰²åˆ°é‡‘é“œè‰²çš„æ¸å˜ï¼Œæ›´æœ‰è´¨æ„Ÿ */
    background: linear-gradient(135deg, #a0522d 0%, #cd7f32 50%, #daa520 100%);
    color: #8b4513; /* æ·±æ£•è‰²æ–‡å­—ï¼Œæ›´æœ‰å¯¹æ¯”åº¦ */
    text-shadow: 3px 3px 6px rgba(139, 69, 19, 0.4), 0 0 15px rgba(205, 127, 50, 0.3);
    box-shadow: 0 4px 20px rgba(205, 127, 50, 0.25);
}

/* ä¸»ä½“å†…å®¹åŒºåŸŸ - å“åº”å¼å¸ƒå±€ï¼Œç¡®ä¿ç…§ç‰‡åŒºå’Œä¿¡æ¯åŒºé«˜åº¦ä¸€è‡´ */
.award-main-content {
    display: flex;
    gap: min(40px, 3.5vw); /* å“åº”å¼å·¦å³é—´è· */
    align-items: stretch; /* æ‹‰ä¼¸å¯¹é½ï¼Œç¡®ä¿ä¸¤ä¸ªåŒºåŸŸé«˜åº¦ä¸€è‡´ */
    flex: 1;
    min-height: 0;
    max-height: calc(90vh - 200px); /* é™åˆ¶æœ€å¤§é«˜åº¦ï¼Œç¡®ä¿ä¸è¶…å‡ºmodal */
}

/* å·¦ä¾§ç…§ç‰‡åŒºåŸŸ - æ”¾å¤§ç…§ç‰‡åŒºåŸŸï¼Œé€‚é…16:9å±å¹• */
.award-photo-section {
    flex-shrink: 0;
    width: 60%;
    min-width: 600px; /* å¢å¤§æœ€å°å®½åº¦ */
    display: flex;
    flex-direction: column;
    align-self: stretch; /* æ‹‰ä¼¸ä»¥åŒ¹é…é«˜åº¦ */
    height: 100%; /* ç¡®ä¿é«˜åº¦åŒ¹é… */
}

.award-photo-frame {
    position: relative;
    width: 100%;
    height: 100%; /* å¡«å……çˆ¶å®¹å™¨é«˜åº¦ï¼Œä¸ä¿¡æ¯åŒºåŸŸå¯¹é½ */
    min-height: 400px; /* æœ€å°é«˜åº¦ç¡®ä¿ç…§ç‰‡å¯è§ */
    border-radius: 20px;
    overflow: hidden;
    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.25);
    /* ä½¿ç”¨flexå¸ƒå±€è®©é«˜åº¦ç”±å®¹å™¨å†³å®šï¼Œè€Œä¸æ˜¯aspect-ratio */
}

.award-photo-wrapper {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, #f5f5f5 0%, #e0e0e0 100%);
    border-radius: 20px;
    overflow: hidden;
}

.award-photo-wrapper img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    border-radius: 20px;
}

/* ç…§ç‰‡å…‰æ•ˆ */
.award-photo-glow {
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(255, 255, 255, 0.4) 0%, transparent 70%);
    animation: photoGlow 3s ease-in-out infinite;
    pointer-events: none;
}

@keyframes photoGlow {
    0%, 100% {
        opacity: 0.3;
        transform: rotate(0deg);
    }
    50% {
        opacity: 0.6;
        transform: rotate(180deg);
    }
}

/* ç…§ç‰‡placeholder - emojiå¥–ç‰Œï¼ˆå‚è€ƒæ—§ä»£ç ï¼Œä½¿ç”¨SVGèƒŒæ™¯ï¼‰ */
.award-photo-placeholder {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 400px; /* ç¼©å°ä»¥é€‚åº” */
    opacity: 0.15;
    border-radius: 20px;
    font-family: 'ç­‰çº¿', system-ui, sans-serif;
}

.award-photo-placeholder-gold {
    background: linear-gradient(135deg, rgba(255, 215, 0, 0.15) 0%, rgba(255, 237, 78, 0.25) 100%);
}

.award-photo-placeholder-silver {
    background: linear-gradient(135deg, rgba(192, 192, 192, 0.15) 0%, rgba(232, 232, 232, 0.25) 100%);
}

.award-photo-placeholder-bronze {
    background: linear-gradient(135deg, rgba(205, 127, 50, 0.15) 0%, rgba(218, 165, 32, 0.25) 100%);
}

/* å³ä¾§è¯¦ç»†ä¿¡æ¯åŒºåŸŸ */
.award-details-section {
    flex: 1;
    min-width: 0;
    display: flex;
    flex-direction: column;
    align-self: stretch; /* æ‹‰ä¼¸ä»¥åŒ¹é…é«˜åº¦ */
}

.award-details-card {
    background: rgba(255, 255, 255, 0.98);
    border-radius: 20px;
    padding: min(30px, 2.5vw); /* å“åº”å¼å†…è¾¹è· */
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
    backdrop-filter: blur(10px);
    display: flex;
    flex-direction: column;
    gap: min(18px, 1.5vw); /* å“åº”å¼é—´è· */
    flex: 1; /* å¡«å……å¯ç”¨ç©ºé—´ï¼Œä¸ç…§ç‰‡åŒºåŸŸé«˜åº¦åŒ¹é… */
    position: relative;
    overflow: hidden;
    min-height: 0; /* å…è®¸flexå­å…ƒç´ ç¼©å° */
    height: 100%; /* ç¡®ä¿ä¸ç…§ç‰‡åŒºåŸŸé«˜åº¦ä¸€è‡´ */
}

/* æ–‡å­—ä¿¡æ¯åŒºåŸŸï¼ˆåŒ…å«æ‰€æœ‰æ–‡å­—ä¿¡æ¯è¡Œï¼‰ */
.award-info-section {
    position: relative; /* ä¸ºlogoèƒŒæ™¯æä¾›å®šä½ä¸Šä¸‹æ–‡ */
    display: flex;
    flex-direction: column;
    gap: min(18px, 1.5vw); /* ä¸å¡ç‰‡æ•´ä½“é—´è·ä¸€è‡´ */
}

/* å­¦æ ¡logoèƒŒæ™¯ï¼ˆåŠé€æ˜ï¼Œæ”¾åœ¨æ–‡å­—ä¿¡æ¯åŒºåé¢ï¼‰ */
.award-school-logo {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    height: 100%;
    min-width: 0;
    min-height: 0;
    background-size: min(400px, 30%) auto; /* å“åº”å¼å¤§å°ï¼Œæœ€å¤§ä¸è¶…è¿‡30%å®½åº¦ */
    background-position: right top;
    background-repeat: no-repeat;
    opacity: 0.15; /* åŠé€æ˜èƒŒæ™¯ï¼Œå‚è€ƒrank.jsä¸­çš„school-logo */
    pointer-events: none;
    z-index: 0; /* åœ¨æ–‡å­—åé¢ */
    overflow: visible;
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
    image-rendering: pixelated;
}

/* å½“æœ‰èƒŒæ™¯å›¾ç‰‡æ—¶ï¼Œä½¿ç”¨CSSå˜é‡ */
.award-school-logo.has-background {
    background-image: var(--rank-school-logo-bg);
}

/* æ–‡å­—ä¿¡æ¯åŒºåŸŸå†…çš„æ‰€æœ‰ä¿¡æ¯è¡Œéƒ½åº”è¯¥åœ¨logoä¹‹ä¸Š */
.award-info-section > .award-info-row {
    position: relative;
    z-index: 1;
}

/* ä¿¡æ¯è¡Œ - å‚è€ƒæ—§ä»£ç ç®€æ´å¸ƒå±€ï¼Œlabelå’Œvalueæ¸…æ™°åˆ†å¼€ï¼Œè¿›ä¸€æ­¥å‹ç¼©é—´è· */
.award-info-row {
    display: flex;
    flex-direction: column;
    gap: 6px; /* è¿›ä¸€æ­¥å‡å°labelå’Œvalueä¹‹é—´çš„é—´è· */
    padding: 0;
    border-bottom: 2px solid rgba(0, 0, 0, 0.08);
    padding-bottom: 14px; /* è¿›ä¸€æ­¥å‡å°è¡Œé—´è· */
}

/* éšè—çš„è¡Œä¸åº”è¯¥æ˜¾ç¤ºåˆ†å‰²çº¿å’Œé—´è· */
.award-info-row.award-info-row-hidden {
    display: none !important; /* ç¡®ä¿å®Œå…¨éšè— */
    border-bottom: none !important;
    padding-bottom: 0 !important;
    margin: 0 !important;
}

/* å¦‚æœä¸€ä¸ªä¿¡æ¯è¡Œåé¢è·Ÿç€éšè—çš„ä¸€è¡€è¡Œï¼Œåˆ™ç§»é™¤ä¸‹è¾¹æ¡†ï¼ˆè®©ç»Ÿè®¡å®¹å™¨ç›´æ¥æ¥ä¸Šï¼‰ */
.award-info-row:not(.award-info-row-hidden) + #award-first-blood-row.award-info-row-hidden {
    border-bottom: none;
    padding-bottom: 0;
}

/* å‰é¢æ˜¯éšè—ä¸€è¡€è¡Œçš„ä¿¡æ¯è¡Œï¼Œç§»é™¤ä¸Šè¾¹æ¡† */
.award-info-row:not(.award-info-row-hidden) + .award-info-row.award-info-row-hidden + .award-stats-container {
    margin-top: 0;
}

/* å¦‚æœä¸€è¡€è¡Œå¯è§ï¼Œç§»é™¤ä¸‹è¾¹æ¡† */
#award-first-blood-row:not(.award-info-row-hidden) {
    border-bottom: none;
    padding-bottom: 0;
}

/* ç»Ÿè®¡å®¹å™¨å‰é¢å¦‚æœæ˜¯éšè—çš„ä¸€è¡€è¡Œï¼Œæ­£å¸¸æ˜¾ç¤ºä¸Šè¾¹æ¡† */
#award-first-blood-row.award-info-row-hidden + .award-stats-container {
    margin-top: 0;
    padding-top: 16px;
    border-top: 2px solid rgba(0, 0, 0, 0.1); /* ä¿æŒä¸Šè¾¹æ¡† */
}

/* å¦‚æœä¸€è¡€è¡Œå¯è§ï¼Œç»Ÿè®¡å®¹å™¨æ­£å¸¸æ˜¾ç¤º */
#award-first-blood-row:not(.award-info-row-hidden) + .award-stats-container {
    margin-top: 8px;
    padding-top: 16px;
    border-top: 2px solid rgba(0, 0, 0, 0.1);
}

.award-info-primary {
    padding-bottom: 16px; /* ä¸»ä¿¡æ¯è¿›ä¸€æ­¥å‹ç¼© */
}

/* è·å¥–modalä¸­çš„åŒè¯­æ–‡æœ¬ - å·¦å³ç»“æ„ï¼ˆæé«˜ä¼˜å…ˆçº§ï¼Œè¦†ç›–é€šç”¨è§„åˆ™ï¼‰ */
.award-modal .award-info-label en-text,
.award-modal .award-stat-label en-text {
    display: inline !important;
    font-size: 0.65em;
    color: #999;
    margin-left: 10px;
    margin-top: 0 !important;
    font-weight: 500;
    vertical-align: baseline;
}

/* æ·»åŠ åˆ†éš”ç¬¦æ ·å¼ï¼Œæ›´æ¸…æ™° */
.award-modal .award-info-label en-text::before,
.award-modal .award-stat-label en-text::before {
    content: ' / ';
    margin-right: 4px;
    color: #bbb;
    font-weight: 300;
}

.award-info-label {
    font-size: 28px; /* è¿›ä¸€æ­¥ç¼©å°å­—ä½“ */
    font-weight: 700;
    color: #666;
    line-height: 1.2; /* å‹ç¼©è¡Œé«˜ */
    white-space: nowrap;
}

.award-info-value {
    font-size: 44px; /* è¿›ä¸€æ­¥ç¼©å°å­—ä½“ */
    font-weight: 900;
    color: #222;
    line-height: 1.2; /* å‹ç¼©è¡Œé«˜ */
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    min-height: 52px; /* å‡å°æœ€å°é«˜åº¦ */
}

/* ç»Ÿè®¡æ•°æ®å®¹å™¨ - è¿›ä¸€æ­¥å‹ç¼©é—´è· */
.award-stats-container {
    display: flex;
    gap: 25px;
    margin-top: 8px;
    padding-top: 16px;
    border-top: 2px solid rgba(0, 0, 0, 0.1);
    flex-shrink: 0; /* å…³é”®ï¼šç»Ÿè®¡å®¹å™¨å›ºå®šï¼Œä¸è¢«å‹ç¼© */
}

/* ============================================
   è·å¥–Modalä¿¡æ¯åŒºè·‘é©¬ç¯æ•ˆæœ
   ============================================ */

/* å½“æ–‡æœ¬æº¢å‡ºæ—¶ï¼Œå¯ç”¨è·‘é©¬ç¯ */
#award-school.needs-marquee,
#award-team-name.needs-marquee,
#award-members.needs-marquee,
#award-coach.needs-marquee,
#award-first-blood.needs-marquee {
    text-overflow: clip; /* ç§»é™¤ellipsis */
    overflow: hidden;
    position: relative;
}

/* è·‘é©¬ç¯åŒ…è£…å…ƒç´  */
#award-school.needs-marquee > .marquee-wrapper,
#award-team-name.needs-marquee > .marquee-wrapper,
#award-members.needs-marquee > .marquee-wrapper,
#award-coach.needs-marquee > .marquee-wrapper,
#award-first-blood.needs-marquee > .marquee-wrapper {
    display: inline-block;
    white-space: nowrap;
    padding-right: 200px; /* å¢åŠ ç©ºç™½é—´è·ï¼šè®©æ–‡æœ¬æ»šåŠ¨å®Œä¸€éåï¼Œæœ‰è¶³å¤Ÿçš„æ—¶é—´ç©ºç™½ï¼Œç„¶åå†å¾ªç¯ï¼Œç»™è§‚ä¼—å……è¶³æ—¶é—´é˜…è¯» */
    animation: award-marquee linear infinite;
    animation-duration: var(--marquee-duration, 15s);
    will-change: transform; /* ç¡¬ä»¶åŠ é€Ÿ */
    backface-visibility: hidden; /* é˜²æ­¢é—ªçƒ */
}

/* è·‘é©¬ç¯åŠ¨ç”»ï¼šä»å³æ»šåŠ¨åˆ°å·¦ï¼ˆæ–‡æœ¬ä»å¯è§åŒºåŸŸå·¦ä¾§æ»šåŠ¨å‡ºå»ï¼‰
 * å…³é”®ï¼šåŠ¨ç”»è·ç¦» = æ–‡æœ¬å®½åº¦ + ç©ºç™½ï¼Œè¿™æ ·å½“æ–‡æœ¬å®Œå…¨æ»šåŠ¨å‡ºè§†é‡åï¼Œ
 * ç©ºç™½éƒ¨åˆ†ä¼šç»§ç»­æ»šåŠ¨ï¼Œç„¶åæ— ç¼å¾ªç¯å›å¼€å¤´ï¼Œå½¢æˆé¦–å°¾ç›¸æ¥çš„æ•ˆæœ */
@keyframes award-marquee {
    0% {
        transform: translateX(0);
    }
    100% {
        transform: translateX(var(--marquee-translate, -100px));
        /* ä½¿ç”¨CSSå˜é‡åŠ¨æ€è®¾ç½®æ»šåŠ¨è·ç¦»ï¼šæ–‡æœ¬å®½åº¦ + ç©ºç™½ - å®¹å™¨å®½åº¦ */
    }
}

/* Hoveræ—¶æš‚åœï¼Œæ–¹ä¾¿æŸ¥çœ‹å®Œæ•´å†…å®¹ */
#award-school.needs-marquee:hover > .marquee-wrapper,
#award-team-name.needs-marquee:hover > .marquee-wrapper,
#award-members.needs-marquee:hover > .marquee-wrapper,
#award-coach.needs-marquee:hover > .marquee-wrapper,
#award-first-blood.needs-marquee:hover > .marquee-wrapper {
    animation-play-state: paused;
    cursor: text; /* æç¤ºå¯ä»¥æŸ¥çœ‹ */
}

.award-stat-box {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 12px; /* å‡å°gap */
    padding: 25px; /* å‡å°å†…è¾¹è· */
    border-radius: 16px;
    background: linear-gradient(135deg, rgba(248, 249, 250, 0.9) 0%, rgba(233, 236, 239, 0.9) 100%);
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
    text-align: center;
    transition: all 0.3s ease;
}

.award-stat-box:hover {
    background: linear-gradient(135deg, rgba(248, 249, 250, 1) 0%, rgba(233, 236, 239, 1) 100%);
    transform: translateY(-5px);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
}

.award-stat-label {
    font-size: 24px; /* è¿›ä¸€æ­¥ç¼©å°å­—ä½“ */
    font-weight: 700;
    color: #666;
    line-height: 1.2; /* å‹ç¼©è¡Œé«˜ */
}

.award-stat-value {
    font-size: 64px; /* ç¼©å°å­—ä½“ï¼Œä½†ä»çªå‡ºæ˜¾ç¤º */
    font-weight: 900;
    color: #222;
    line-height: 1.1; /* å‹ç¼©è¡Œé«˜ */
}

/* å¯¹äºå¯èƒ½æ¢è¡Œçš„å­—æ®µï¼ˆå¦‚æˆå‘˜ã€æ•™ç»ƒï¼‰ - æ”¹ä¸ºå•è¡Œï¼Œæº¢å‡ºæ—¶ä½¿ç”¨è·‘é©¬ç¯ */
#award-members,
#award-coach {
    white-space: nowrap; /* æ”¹ä¸ºå•è¡Œï¼Œé…åˆè·‘é©¬ç¯ */
    line-height: 1.25;
    overflow: hidden;
    text-overflow: ellipsis; /* é»˜è®¤æ˜¾ç¤ºellipsisï¼Œå¯ç”¨è·‘é©¬ç¯åä¼šè¢«è¦†ç›– */
    font-size: 38px;
    min-height: 50px;
}

/* é˜Ÿåå­—ä½“å¤§å°ä¸æˆå‘˜ã€æ•™ç»ƒä¸€è‡´ï¼ˆå°ä¸€ç‚¹ï¼‰ */
#award-team-name {
    font-size: 38px; /* ä¸æˆå‘˜ã€æ•™ç»ƒçš„å­—å·ä¸€è‡´ */
    min-height: 50px; /* ä¸æˆå‘˜ã€æ•™ç»ƒçš„æœ€å°é«˜åº¦ä¸€è‡´ */
}

/* å“åº”å¼ä¼˜åŒ– - æ›´å¥½çš„è‡ªé€‚åº” */
@media (max-width: 1600px) {
    .award-modal {
        max-width: min(98%, 1600px);
        max-height: min(95vh, 1100px);
        min-height: 50vh; /* ä¸­ç­‰å±å¹•ä¸Šæœ€å°é«˜åº¦ç¨å°ä¸€äº› */
        width: min(min(98%, 1600px), max(50vh * 16 / 9, 95vh * 16 / 9));
    }
    
    .award-level-title {
        font-size: min(80px, 6vw);
        padding: min(25px, 2vw) min(35px, 2.5vw);
    }
    
    .award-photo-section {
        width: min(900px, 48%);
        min-width: 550px;
    }
    
    .award-details-card {
        padding: min(25px, 2vw);
        gap: min(16px, 1.3vw);
        min-height: 0;
    }
    
    .award-info-label {
        font-size: min(28px, 2.2vw);
    }
    
    .award-info-value {
        font-size: min(44px, 3.5vw);
    }
    
    .award-stat-label {
        font-size: min(24px, 2vw);
    }
    
    .award-stat-value {
        font-size: min(64px, 5vw);
    }
    
    #award-members,
    #award-coach,
    #award-team-name {
        font-size: min(38px, 3vw);
        min-height: auto;
    }
}

/* æ›´å°å±å¹•çš„ä¼˜åŒ– */
@media (max-width: 1200px) {
    .award-main-content {
        flex-direction: column; /* æ”¹ä¸ºä¸Šä¸‹å¸ƒå±€ */
        align-items: center;
    }
    
    .award-photo-section {
        width: 100%;
        max-width: 600px;
        min-width: auto;
    }
    
    .award-photo-frame {
        max-height: 450px;
    }
    
    .award-details-section {
        width: 100%;
    }
    
    .award-details-card {
        min-height: auto;
    }
}

/* å€’è®¡æ—¶è¦†ç›–å±‚ */
/* å…¨å±æ—¶é—´é®ç½©å±‚ */
.time-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(0, 0, 0, 0.6);
    z-index: 999999;
    display: none;
    align-items: center;
    justify-content: center;
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
}

.time-overlay-content {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
}

.time-overlay-text {
    font-size: min(25vw, 30vh);
    font-weight: 700;
    color: #ffffff;
    text-shadow: 
        0 0 20px rgba(255, 255, 255, 0.6),
        0 0 40px rgba(255, 255, 255, 0.4),
        0 0 60px rgba(255, 255, 255, 0.2),
        0 4px 8px rgba(0, 0, 0, 0.3);
    font-variant-numeric: tabular-nums;
    letter-spacing: 0.08em;
    /* å¤šç³»ç»Ÿç­‰å®½å­—ä½“æ—ï¼šä¼˜å…ˆä½¿ç”¨å„ç³»ç»Ÿæœ€å¥½çœ‹çš„å­—ä½“ */
    /* macOS: SF Mono (SFMono-Regular), Menlo */
    /* Windows: Consolas */
    /* Linux: Liberation Mono */
    /* å›é€€: Courier New, Monaco, monospace */
    font-family: 
        var(--bs-font-monospace, 
            'SF Mono', 
            'SFMono-Regular', 
            ui-monospace, 
            'Cascadia Code', 
            'Source Code Pro', 
            Menlo, 
            Consolas, 
            'Liberation Mono', 
            Monaco, 
            'Courier New', 
            monospace);
    line-height: 1;
    text-align: center;
    user-select: none;
    /* ä¼˜åŒ–æ¸²æŸ“æ€§èƒ½ */
    will-change: contents;
    transform: translateZ(0);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* å“åº”å¼è°ƒæ•´ */
@media (max-width: 768px) {
    .time-overlay-text {
        font-size: min(20vw, 25vh);
        letter-spacing: 0.06em;
    }
}

.countdown-overlay {
    position: fixed;
    top: 20px;
    right: 20px;
    background: rgba(0,0,0,0.8);
    color: white;
    padding: var(--rank-padding-lg);
    border-radius: var(--rank-border-radius);
    font-size: var(--rank-font-size-2xl);
    font-weight: 600;
    font-family: 'Courier New', monospace;
    z-index: 101;
    min-width: 120px;
    text-align: center;
}

/* ç°ä»£æµè§ˆå™¨è¶…é«˜æ€§èƒ½åŠ¨ç”»ç³»ç»Ÿ */
.rank-row.rank-animating {
    /* ç§»é™¤transitionï¼Œç”±JavaScriptæ§åˆ¶åŠ¨ç”» */
    will-change: transform;
    z-index: 10;
    /* ç¡®ä¿ç¡¬ä»¶åŠ é€Ÿ */
    transform: translate3d(0, 0, 0);
    /* ä¼˜åŒ–æ¸²æŸ“æ€§èƒ½ */
    backface-visibility: hidden;
    perspective: 1000px;
    /* å‡å°‘é‡ç»˜ */
    contain: layout style paint;
    
    /* ç°ä»£æµè§ˆå™¨ä¼˜åŒ– */
    transform-style: preserve-3d;
    isolation: isolate;
    
    /* GPUåŠ é€Ÿä¼˜åŒ– */
    -webkit-transform: translate3d(0, 0, 0);
    -moz-transform: translate3d(0, 0, 0);
    -ms-transform: translate3d(0, 0, 0);
    -o-transform: translate3d(0, 0, 0);
    
    /* å‡å°‘é‡ç»˜ */
    -webkit-backface-visibility: hidden;
    -moz-backface-visibility: hidden;
    -ms-backface-visibility: hidden;
    -o-backface-visibility: hidden;
}

.rank-row.rank-moving-up {
    transform: translateY(-100%);
    opacity: 0.8;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
    z-index: 20;
}

.rank-row.rank-moving-down {
    transform: translateY(100%);
    opacity: 0.8;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
    z-index: 20;
}

/* æ’åå˜åŒ–æ—¶çš„è§†è§‰åé¦ˆ */
.rank-row.rank-animating .rank-number {
    transition: all 0.3s ease;
    transform: scale(1.1);
    color: #3b82f6;
    font-weight: 900;
}

.rank-row.rank-animating .team-name {
    transition: all 0.3s ease;
    color: #1f2937;
    font-weight: 600;
}

/* æ’åä¸Šå‡çš„ç»¿è‰²é«˜äº® */
.rank-row.rank-moving-up {
    background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
    /* border-left: 4px solid #10b981; */
}

.rank-row.rank-moving-up .rank-number {
    color: #059669;
}

/* æ’åä¸‹é™çš„æ©™è‰²é«˜äº® */
.rank-row.rank-moving-down {
    background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
    /* border-left: 4px solid #f59e0b; */
}

.rank-row.rank-moving-down .rank-number {
    color: #d97706;
}

/* åŠ¨ç”»å®Œæˆåçš„æ¸…ç†æ•ˆæœ */
.rank-row.rank-animating:not(.rank-moving-up):not(.rank-moving-down) {
    transition: all 0.3s ease;
    transform: scale(1.02);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

/* æ•°æ®æ›´æ–°æ—¶çš„åŠ¨ç”»æ•ˆæœ */
/* rank-updating ç±»å·²ç§»é™¤transformå’Œscaleæ•ˆæœï¼Œåªç”¨äºæ ‡è®°çŠ¶æ€ */

/* æ’åå˜åŒ–æ—¶çš„ç‰¹æ®Šæ•ˆæœ */
.rank-row.rank-changed {
    animation: rankChangePulse 0.5s ease-in-out;
}

.rank-row.rank-improved {
    background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
    /* border-left: 4px solid #10b981; */
    animation: rankImproveGlow 0.5s ease-in-out;
}

.rank-row.rank-declined {
    background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
    /* border-left: 4px solid #f59e0b; */
    animation: rankDeclineGlow 0.5s ease-in-out;
}

/* æ’åæ•°å­—å˜åŒ–åŠ¨ç”» */
.rank-row.rank-changed .rank-number {
    transition: all 0.3s ease;
    animation: rankNumberBounce 0.5s ease-in-out;
}

/* å…³é”®å¸§åŠ¨ç”» */
@keyframes rankChangePulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
}

@keyframes rankImproveGlow {
    0% { box-shadow: 0 0 0 rgba(16, 185, 129, 0.4); }
    50% { box-shadow: 0 0 20px rgba(16, 185, 129, 0.6); }
    100% { box-shadow: 0 0 0 rgba(16, 185, 129, 0.4); }
}

@keyframes rankDeclineGlow {
    0% { box-shadow: 0 0 0 rgba(245, 158, 11, 0.4); }
    50% { box-shadow: 0 0 20px rgba(245, 158, 11, 0.6); }
    100% { box-shadow: 0 0 0 rgba(245, 158, 11, 0.4); }
}

@keyframes rankNumberBounce {
    0% { transform: scale(1); }
    50% { transform: scale(1.3); }
    100% { transform: scale(1); }
}

/* ä¸­è‹±åŒè¯­æ ·å¼ */
.rank-system en-text {
    display: block;
    font-size: 0.8em;
    color: #666;
    margin-top: 2px;
    font-weight: normal;
    white-space: nowrap;
}

/* ç¡®ä¿æ‰€æœ‰åŒ…å«åŒè¯­æ–‡æœ¬çš„å…ƒç´ ä¸æ¢è¡Œ */
.rank-system h2, 
.rank-system h3, 
.rank-system h4, 
.rank-system h5, 
.rank-system h6,
.rank-system .modal-header h3,
.rank-system .award-label,
.rank-system .rank-col,
.rank-system .control-btn,
.rank-system .custom-select-btn {
    white-space: nowrap;
}

/* æ ‡é¢˜ç‰¹æ®Šå¤„ç†ï¼Œå…è®¸æŠ˜è¡Œ */
#rank-page-title {
    white-space: normal !important;
    word-break: break-all !important;
}

/* å®¹å™¨æŸ¥è¯¢ï¼šå½“å®¹å™¨å®½åº¦è¾ƒå°æ—¶ï¼Œä¿æŒå·¦å¯¹é½ */
@container (max-width: 400px) {
    .title-section {
        justify-content: flex-start;
    }
    
    #rank-page-title {
        text-align: left;
    }
}



/* è‡ªå®šä¹‰Tooltipæ ·å¼ */
.tooltip-container {
    position: relative;
    display: inline-block;
}

.tooltip {
    position: fixed;
    background: rgba(0, 0, 0, 0.95);
    color: white;
    padding: 10px 14px;
    border-radius: var(--rank-border-radius);
    font-size: var(--rank-font-size-md);
    line-height: 1.5;
    white-space: pre-line;
    z-index: 100009; /* ç¡®ä¿åœ¨å…¨å±æ¨¡å¼ä¸‹æ˜¾ç¤º */
    max-width: 320px;
    word-wrap: break-word;
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease, visibility 0.3s ease;
    pointer-events: none;
    border: 1px solid rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
}

.tooltip-content {
    display: flex;
    flex-direction: column;
    gap: 5px;
}

.tooltip-cn {
    font-size: var(--rank-font-size-md);
    font-weight: 600;
    color: var(--rank-text-white);
    line-height: 1.4;
}

.tooltip-en {
    font-size: 13px;
    font-weight: 400;
    color: #e0e0e0;
    line-height: 1.3;
    font-style: italic;
    border-top: 1px solid rgba(255, 255, 255, 0.2);
    padding-top: 5px;
}

.tooltip.show {
    opacity: 1;
    visibility: visible;
}

/* Tooltipç®­å¤´ */
.tooltip::before {
    content: '';
    position: absolute;
    width: 0;
    height: 0;
    border: 6px solid transparent;
}

.tooltip.tooltip-top::before {
    bottom: -12px;
    left: 50%;
    transform: translateX(-50%);
    border-top-color: rgba(0, 0, 0, 0.9);
}

.tooltip.tooltip-bottom::before {
    top: -12px;
    left: 50%;
    transform: translateX(-50%);
    border-bottom-color: rgba(0, 0, 0, 0.9);
}

.tooltip.tooltip-left::before {
    right: -12px;
    top: 50%;
    transform: translateY(-50%);
    border-left-color: rgba(0, 0, 0, 0.9);
}

.tooltip.tooltip-right::before {
    left: -12px;
    top: 50%;
    transform: translateY(-50%);
    border-right-color: rgba(0, 0, 0, 0.9);
}

.rank-system.fullscreen {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    z-index: 10000;
    overflow: auto;
    background: white; /* ç¡®ä¿èƒŒæ™¯è‰² */
    -ms-overflow-style: none;
    scrollbar-width: none;
}

.rank-system.fullscreen .rank-content-wrapper {
    width: max-content;
    /* å±…ä¸­ */
    margin: 0 auto;
}

.rank-system.fullscreen .rank-container {
    margin-top: 0; /* ç§»é™¤margin-topï¼Œè®©å®¹å™¨ç´§è´´header */
    height: auto; /* å¿…é¡»è®¾ç½®ï¼Œå¦åˆ™å†…å®¹æ— æ³•çºµå‘æ»šåŠ¨ */
    overflow: visible;
    background: white; /* ç¡®ä¿å®¹å™¨æœ‰èƒŒæ™¯è‰² */
}

/* å…¨å±æ¨¡å¼ä¸‹çš„tooltipæ ·å¼ */
.rank-system.fullscreen .tooltip {
    z-index: 10010; /* ç¡®ä¿åœ¨å…¨å±æ¨¡å¼ä¸‹æ˜¾ç¤º */
    position: fixed; /* ä½¿ç”¨fixedå®šä½ï¼Œç›¸å¯¹äºè§†å£ */
}

/* å…¨å±æ¨¡å¼ä¸‹çš„modalæ ·å¼ */
.rank-system.fullscreen .modal-overlay {
    z-index: 10020; /* ç¡®ä¿åœ¨å…¨å±æ¨¡å¼ä¸‹æ˜¾ç¤ºï¼Œé«˜äºå…¨å±å®¹å™¨ */
    position: fixed; /* ä½¿ç”¨fixedå®šä½ï¼Œç›¸å¯¹äºè§†å£ */
}

.rank-system ::-webkit-scrollbar {
    width: 8px;
}

.rank-system ::-webkit-scrollbar-track {
    background: #f1f1f1;
}

.rank-system ::-webkit-scrollbar-thumb {
    background: #c1c1c1;
    border-radius: var(--rank-border-radius-small);
}

.rank-system ::-webkit-scrollbar-thumb:hover {
    background: #a8a8a8;
}

.rank-system.fullscreen ::-webkit-scrollbar {
    display: none;
}

/* æ—¶é—´è¿›åº¦æ¡æ ·å¼ */
/* ============================================
   é›†æˆæ§åˆ¶åŒºå’Œæ—¶é—´è½´çš„æ ·å¼
   ============================================ */

/* åˆå¹¶çš„æ§åˆ¶åŒºå’Œæ—¶é—´è½´å®¹å™¨ */
.controls-time-section {
    width: 100%;
    padding: 12px 20px;
    background: #f8f9fa;
    border-bottom: 1px solid #e9ecef;
    border-top: 1px solid #e9ecef;
}

.controls-time-container {
    display: flex;
    align-items: center;
    gap: 16px;
    max-width: 100%;
    position: relative;
}

/* ============================================
   æ—¶é—´è½´åŒºåŸŸæ ·å¼ï¼ˆå·¦ä¾§ï¼Œé›†æˆè®¾è®¡ï¼‰
   ============================================ */

.time-progress-wrapper {
    display: flex;
    align-items: center;
    gap: 10px;
    flex: 1;
    min-width: 0;
    padding: 8px 12px;
    background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
    border: 1px solid #dee2e6;
    border-radius: 10px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8);
    transition: all 0.3s ease;
}

.time-progress-wrapper:hover {
    box-shadow: 0 4px 8px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.9);
    border-color: #adb5bd;
}

/* æ—¶é—´æ˜¾ç¤ºç»„ï¼ˆå‚ç›´å¸ƒå±€ï¼‰ */
.time-display-group {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    justify-content: center;
    gap: 1px;
    font-family: 'Courier New', 'Monaco', 'Consolas', monospace;
    font-weight: 600;
    white-space: nowrap;
    flex-shrink: 0;
    padding: 0 6px;
    width: 90px; /* å›ºå®šå®½åº¦ï¼Œé˜²æ­¢å› æ—¶é—´æ–‡æœ¬é•¿åº¦å˜åŒ–å¯¼è‡´è¿›åº¦æ¡ä½ç½®æŠ–åŠ¨ */
}

.time-current {
    color: #007bff; /* Bootstrap 5 primary - æ­£å¸¸æ¨¡å¼ */
    font-weight: 700;
    font-size: 13px;
    line-height: 1.3;
    text-shadow: 0 1px 2px rgba(0, 123, 255, 0.1);
    letter-spacing: 0.3px;
    transition: color 0.2s ease-in-out; /* å¹³æ»‘è¿‡æ¸¡ */
}

/* å›æ”¾æ¨¡å¼æ—¶é—´æ˜¾ç¤ºæ ·å¼ */
.time-current.time-replay-mode {
    color: #ffc107; /* Bootstrap 5 warning - å›æ”¾æ¨¡å¼ï¼Œæ˜æ˜¾åŒºåˆ† */
    text-shadow: 0 1px 2px rgba(255, 193, 7, 0.2);
}

.time-total {
    color: #6c757d;
    font-weight: 500;
    font-size: 11px;
    line-height: 1.3;
    opacity: 0.75;
    letter-spacing: 0.2px;
}

/* è¿›åº¦æ¡å®¹å™¨ */
.time-progress-bar-container {
    flex: 1;
    position: relative;
    height: 24px;
    display: flex;
    align-items: center;
    min-width: 120px;
    background: #e9ecef; /* Bootstrap 5 gray-200 */
    border-radius: 0.375rem; /* 6px */
    padding: 0.25rem; /* 4px */
}

.time-progress-slider {
    width: 100%;
    height: 100%;
    background: transparent;
    border-radius: 0.375rem;
    outline: none;
    cursor: pointer;
    -webkit-appearance: none;
    appearance: none;
    position: relative;
    z-index: 3;
    margin: 0;
}

/* æ»‘å— - åœ†è§’æ–¹å½¢ï¼ŒBootstrap 5 é£æ ¼ */
/* è¿›åº¦æ¡å®¹å™¨é«˜åº¦24pxï¼Œæ»‘å—é«˜åº¦32pxï¼Œéœ€è¦å‚ç›´å±…ä¸­ */
/* å®¹å™¨24px - æ»‘å—32px = -8pxï¼Œæ‰€ä»¥éœ€è¦å‘ä¸Šåç§»4pxæ¥å±…ä¸­ */
.time-progress-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 24px;
    height: 40px;
    background: #0d6efd; /* Bootstrap 5 primary */
    border: 2px solid white;
    border-radius: 0.375rem; /* åœ†è§’æ–¹å½¢ */
    cursor: pointer;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); /* ç®€å•é˜´å½± */
    transition: background-color 0.15s ease-in-out;
    margin-top: -12px; /* å‚ç›´å±…ä¸­ï¼šå®¹å™¨24px - æ»‘å—32px = -8pxï¼Œé™¤ä»¥2 = -4px */
}

.time-progress-slider::-webkit-slider-thumb:hover {
    background: #0b5ed7; /* Bootstrap 5 primary hover */
}

.time-progress-slider::-webkit-slider-runnable-track {
    width: 100%;
    height: 100%;
    background: transparent;
    border-radius: 0.375rem;
}

.time-progress-slider::-moz-range-thumb {
    width: 18px;
    height: 32px; /* ä¸ webkit ç‰ˆæœ¬ä¿æŒä¸€è‡´ */
    background: #0d6efd; /* Bootstrap 5 primary */
    border: 2px solid white;
    border-radius: 0.375rem; /* åœ†è§’æ–¹å½¢ */
    cursor: pointer;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
    transition: background-color 0.15s ease-in-out;
    /* Firefox çš„æ»‘å—å‚ç›´å±…ä¸­é€šè¿‡ track é«˜åº¦è‡ªåŠ¨å¤„ç†ï¼Œä½†å¦‚æœæœ‰é—®é¢˜å¯ä»¥æ·»åŠ  margin-top */
}

.time-progress-slider::-moz-range-thumb:hover {
    background: #0b5ed7; /* Bootstrap 5 primary hover */
}

.time-progress-slider::-moz-range-track {
    width: 100%;
    height: 100%;
    background: transparent;
    border-radius: 0.375rem;
}

/* è¿›åº¦æ¡èƒŒæ™¯ï¼ˆå·²è¿‡æ—¶é—´åŒºåŸŸï¼‰- çº¯è‰² */
.time-progress-track {
    position: absolute;
    top: 50%;
    left: 0;
    height: 100%;
    background: #0d6efd; /* Bootstrap 5 primary - çº¯è‰² */
    border-radius: 0.375rem;
    transform: translateY(-50%);
    pointer-events: none;
    z-index: 1;
    transition: width 0.3s ease-out;
}

/* è¿›åº¦æ¡è½®å»“ï¼ˆæœªæ¥æ—¶é—´åŒºåŸŸï¼‰ */
.time-progress-track-outline {
    position: absolute;
    top: 50%;
    left: 0;
    width: 100%;
    height: 100%;
    border: 1px solid #dee2e6; /* Bootstrap 5 border color */
    border-radius: 0.375rem;
    transform: translateY(-50%);
    pointer-events: none;
    z-index: 0;
    background: transparent;
}

/* é‡ç½®æŒ‰é’®ï¼ˆå›¾æ ‡æ ·å¼ï¼Œé›†æˆè®¾è®¡ï¼‰ */
.time-reset-btn {
    padding: 8px;
    background: transparent;
    color: #6c757d;
    border: 1px solid #dee2e6;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.3s ease;
    flex-shrink: 0;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    line-height: 1;
}

.time-reset-btn i {
    font-size: 16px;
}

.time-reset-btn:hover {
    background: #e9ecef;
    color: #007bff;
    border-color: #007bff;
    transform: rotate(180deg);
    box-shadow: 0 2px 4px rgba(0, 123, 255, 0.2);
}

.time-reset-btn:active {
    transform: rotate(180deg) scale(0.95);
    box-shadow: 0 1px 2px rgba(0, 123, 255, 0.2);
}

/* ============================================
   æ§åˆ¶æŒ‰é’®åŒºåŸŸæ ·å¼ï¼ˆå³ä¾§ï¼‰
   ============================================ */

.controls-toolbar {
    display: flex;
    gap: 10px;
    align-items: center;
    background: white;
    padding: 6px 10px;
    border-radius: 8px;
    border: 1px solid #dee2e6;
    box-shadow: 0 1px 2px rgba(0,0,0,0.05);
    flex-shrink: 0;
}

.toolbar-group {
    display: flex;
    gap: 8px;
    align-items: center;
}

.toolbar-item {
    display: flex;
    align-items: center;
    gap: 4px;
}

/* æŠ˜å æŒ‰é’®ï¼ˆé»˜è®¤éšè—ï¼Œçª„å±æ—¶æ˜¾ç¤ºï¼‰ */
.controls-toggle-btn {
    display: none;
    padding: 10px;
    background: white;
    color: #495057;
    border: 1px solid #dee2e6;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s ease;
    flex-shrink: 0;
    width: 44px;
    height: 44px;
    align-items: center;
    justify-content: center;
    box-shadow: 0 1px 2px rgba(0,0,0,0.05);
}

.controls-toggle-btn:hover {
    background: #e9ecef;
    border-color: #adb5bd;
    box-shadow: 0 2px 4px rgba(0,0,0,0.08);
}

.controls-toggle-btn i {
    font-size: 20px;
}

/* ä¸‹æ‹‰èœå•ï¼ˆçª„å±æ—¶ä½¿ç”¨ï¼‰ */
.controls-dropdown {
    display: none;
    position: absolute;
    top: calc(100% + 8px);
    right: 0;
    background: white;
    border: 1px solid #dee2e6;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    padding: 12px;
    flex-direction: column;
    gap: 10px;
    min-width: 280px;
    z-index: 1000;
    max-height: 80vh;
    overflow-y: auto;
}

.controls-dropdown.show {
    display: flex;
}

.controls-dropdown .toolbar-group {
    flex-direction: column;
    align-items: stretch;
    gap: 8px;
}

.controls-dropdown .toolbar-item {
    width: 100%;
}

.controls-dropdown .control-btn,
.controls-dropdown .custom-select-btn {
    width: 100%;
    justify-content: flex-start;
}

/* ä¸‹æ‹‰èœå•ä¸­å¸¦æ–‡å­—çš„æŒ‰é’®æ ·å¼ */
.controls-dropdown .control-btn.with-text {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px 14px;
    min-height: 44px;
}

.controls-dropdown .control-btn.with-text i,
.controls-dropdown .control-btn.with-text .rank-icon {
    font-size: 18px;
    flex-shrink: 0;
    width: 20px;
    text-align: center;
}

.controls-dropdown .control-btn.with-text .button-text {
    flex: 1;
    display: inline-block;
    font-size: 14px;
    font-weight: 500;
    color: #495057;
    line-height: 1.4;
}

.controls-dropdown .control-btn.with-text .button-text en-text {
    display: block;
    font-size: 12px;
    color: #6c757d;
    font-weight: 400;
    margin-top: 2px;
    opacity: 0.8;
}

/* æ»šæ¦œæŒ‰é’®ä¸“ç”¨åŒè¯­æ–‡æœ¬æ ·å¼ï¼ˆä¸Šä¸‹ç»“æ„ï¼Œè‹±æ–‡å­—å·è°ƒå°ï¼‰ */
.roll-button-bilingual-stacked {
    display: inline-flex;
    flex-direction: column;
    align-items: center;
    line-height: 1.2;
    gap: 2px;
}

.roll-button-text-cn {
    font-size: inherit;
    font-weight: inherit;
}

.roll-button-text-en {
    font-size: 0.75em;
    font-weight: 400;
    opacity: 0.8;
    color: inherit;
}

/* å·¥å…·æ æŒ‰é’®çš„åŒè¯­æ–‡æœ¬ï¼ˆä»…åœ¨hoveræˆ–activeæ—¶æ˜¾ç¤ºä¸ºtooltipï¼‰ */
.control-btn {
    position: relative;
}

.control-btn .button-text-bilingual {
    position: absolute;
    bottom: calc(100% + 8px);
    left: 50%;
    transform: translateX(-50%);
    white-space: nowrap;
    padding: 4px 8px;
    background: rgba(0, 0, 0, 0.85);
    color: white;
    border-radius: 4px;
    font-size: 12px;
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.2s ease;
    z-index: 1000;
    display: none; /* é»˜è®¤éšè—ï¼Œhoveræ—¶æ˜¾ç¤º */
}

.control-btn:hover .button-text-bilingual,
.control-btn:focus .button-text-bilingual {
    opacity: 1;
    display: block;
}

.control-btn .button-text-bilingual .roll-button-bilingual-stacked {
    align-items: center;
    gap: 1px;
}

.control-btn .button-text-bilingual .roll-button-text-cn {
    font-size: 12px;
    font-weight: 500;
}

.control-btn .button-text-bilingual .roll-button-text-en {
    font-size: 9px;
    font-weight: 400;
    opacity: 0.9;
}

/* ä¸‹æ‹‰èœå•ä¸­çš„æ»šæ¦œæŒ‰é’®ç›´æ¥æ˜¾ç¤ºåŒè¯­æ–‡æœ¬ä¸Šä¸‹ç»“æ„ */
.controls-dropdown .control-btn.with-text .button-text .roll-button-bilingual-stacked {
    display: inline-flex;
    flex-direction: column;
    align-items: flex-start;
    line-height: 1.3;
    gap: 2px;
}

.controls-dropdown .control-btn.with-text .button-text .roll-button-text-cn {
    font-size: 14px;
    font-weight: 500;
    color: #495057;
}

.controls-dropdown .control-btn.with-text .button-text .roll-button-text-en {
    font-size: 11px;
    font-weight: 400;
    color: #6c757d;
    opacity: 0.8;
}

/* ä¸‹æ‹‰èœå•ä¸­è‡ªå®šä¹‰é€‰æ‹©æŒ‰é’®ä¹Ÿæ˜¾ç¤ºæ–‡å­— */
.controls-dropdown .custom-select-btn {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px 14px;
    min-height: 44px;
    width: 100%;
    justify-content: flex-start;
}

.controls-dropdown .custom-select-btn.icon-only {
    width: 100%;
    min-width: auto;
}

.controls-dropdown .custom-select-btn i,
.controls-dropdown .custom-select-btn .rank-icon {
    font-size: 18px;
    flex-shrink: 0;
    width: 20px;
    text-align: center;
}

.controls-dropdown .custom-select-btn .option-text {
    flex: 1;
    display: inline-block;
    font-size: 14px;
    font-weight: 500;
    color: #495057;
    line-height: 1.4;
}

.controls-dropdown .custom-select-btn .option-text en-text {
    display: block;
    font-size: 12px;
    color: #6c757d;
    font-weight: 400;
    margin-top: 2px;
    opacity: 0.8;
}

/* ============================================
   å“åº”å¼è®¾è®¡
   ============================================ */

/* çª„å±ï¼šæŠ˜å æ‰€æœ‰æŒ‰é’® */
@media (max-width: 1024px) {
    .controls-toolbar {
        display: none;
    }
    
    .controls-toggle-btn {
        display: flex;
    }
    
    .time-progress-wrapper {
        flex: 1;
    }
}

/* è¶…çª„å±ï¼šæ—¶é—´è½´ä¹Ÿè°ƒæ•´ */
@media (max-width: 768px) {
    .controls-time-container {
        flex-direction: column;
        align-items: stretch;
        gap: 12px;
    }
    
    .time-progress-wrapper {
        width: 100%;
        flex-direction: column;
        gap: 10px;
        padding: 12px;
    }
    
    .time-display-group {
        width: 80px; /* ä¿æŒå›ºå®šå®½åº¦ï¼Œå³ä½¿åœ¨ç§»åŠ¨ç«¯ */
        align-items: center;
    }
    
    .time-progress-bar-container {
        width: 100%;
        min-width: 100px;
    }
    
    .time-reset-btn {
        align-self: center;
    }
    
    .controls-toggle-btn {
        width: 100%;
        justify-content: center;
    }
    
    .controls-dropdown {
        left: 0;
        right: 0;
        min-width: auto;
        position: fixed;
        top: auto;
        bottom: 20px;
        max-height: 60vh;
    }
}

/* ä¿ç•™æ—§çš„ç±»åä»¥å…¼å®¹ï¼ˆå¦‚æœéœ€è¦ï¼‰ */
.time-progress-section {
    display: none;
}

/* time-progress-container å·²ç§»é™¤ï¼Œå…¼å®¹æ—§ä»£ç  */

/* å­¦æ ¡æ’åæ¨¡å¼ - é˜Ÿä¼ä¿¡æ¯åˆè®¡æ ·å¼ */
.school-summary .team-summary-info {
    display: flex;
    flex-direction: column;
    width: 100%;
    min-width: 0;
    padding: 3px 10px;
}

/* ä¸­æ–‡ä¿¡æ¯åˆè®¡æ ·å¼ - æ¯”é˜Ÿåç¨å°ä½†ä¾ç„¶é†’ç›® */
.school-summary .summary-text-cn {
    font-size: 16px;
    font-weight: 600;
    color: #111827;
    white-space: nowrap;
    position: relative;
    width: 100%;
    text-align: left;
    display: flex;
    align-items: center;
    min-height: 20px;
    line-height: 1.2;
}

/* è‹±æ–‡ä¿¡æ¯åˆè®¡æ ·å¼ - ä¸è‹±æ–‡é˜Ÿåä¿æŒä¸€è‡´ */
.school-summary .summary-text-en {
    font-size: var(--rank-font-size-md);
    font-weight: 500;
    color: #6b7280;
    font-style: italic;
    line-height: 1;
    white-space: nowrap;
    position: relative;
    width: 100%;
    text-align: left;
    display: flex;
    align-items: center;
    min-height: 16px;
}

/* å­¦æ ¡æ’åæ¨¡å¼æ°´å°æ ·å¼ - å°ç« é£æ ¼ */
.team-names {
    position: relative;
}

.team-watermark {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%) rotate(-15deg);
    text-align: center;
    opacity: 0.4;
    pointer-events: none;
    z-index: 10;
    /* ç¡®ä¿æ°´å°ä¸è¢«æ¸éšé®æŒ¡ */
    background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.8) 20%, rgba(255,255,255,0.9) 100%);
    padding: 3px 8px;
    border-radius: 4px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    /* å°ç« è¾¹æ¡† */
    border: 2px solid #dc2626;
    border-style: solid;
    /* å›ºå®šå®½åº¦ï¼Œä¸å—çˆ¶å®¹å™¨å½±å“ */
    width: 60px;
    min-width: 60px;
    max-width: 60px;
    white-space: nowrap;
    overflow: hidden;
}

.watermark-text-cn {
    font-size: 9px;
    font-weight: 700;
    color: #dc2626;
    line-height: 1;
    margin-bottom: 1px;
    text-shadow: 0 1px 2px rgba(0,0,0,0.1);
    font-family: 'Microsoft YaHei', 'SimHei', sans-serif;
}

/* æ»šæ¦œæ§åˆ¶æŒ‰é’®åŒº */
.roll-controls-section {
    padding: 12px 0;
    border-bottom: 1px solid #dee2e6;
}

.roll-controls-toolbar {
    display: flex;
    gap: 8px;
    justify-content: flex-start;
    align-items: center;
}

/* æ»šæ¦œæ§åˆ¶æŒ‰é’®åŸºç¡€æ ·å¼ï¼ˆä¸ä¾èµ– Bootstrapï¼‰ */
.roll-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    padding: 8px 16px;
    font-size: 14px;
    font-weight: 500;
    line-height: 1.5;
    text-align: center;
    text-decoration: none;
    white-space: nowrap;
    vertical-align: middle;
    cursor: pointer;
    user-select: none;
    border: 1px solid transparent;
    border-radius: 6px;
    transition: all 0.15s ease-in-out;
    background-color: #fff;
    color: #333;
}

.roll-btn:not(:disabled):hover {
    opacity: 0.85;
    transform: translateY(-1px);
}

.roll-btn:not(:disabled):active {
    transform: translateY(0);
    opacity: 0.75;
}

.roll-btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

/* ä¸»æŒ‰é’®ï¼ˆå¯åŠ¨æ»šæ¦œï¼‰ */
.roll-btn-primary {
    background-color: #0d6efd;
    color: #fff;
    border-color: #0d6efd;
}

.roll-btn-primary:not(:disabled):hover {
    background-color: #0b5ed7;
    border-color: #0a58ca;
}

.roll-btn-primary:not(:disabled):active {
    background-color: #0a58ca;
    border-color: #0a53be;
}

/* æ¬¡è¦æŒ‰é’®ï¼ˆé‡ç½®æ»šæ¦œï¼‰ */
.roll-btn-secondary {
    background-color: #6c757d;
    color: #fff;
    border-color: #6c757d;
}

.roll-btn-secondary:not(:disabled):hover {
    background-color: #5c636a;
    border-color: #565e64;
}

.roll-btn-secondary:not(:disabled):active {
    background-color: #565e64;
    border-color: #51585e;
}

/* è½®å»“ä¿¡æ¯æŒ‰é’®ï¼ˆå¸®åŠ©ï¼‰ */
.roll-btn-outline-info {
    background-color: transparent;
    color: #0dcaf0;
    border-color: #0dcaf0;
}

.roll-btn-outline-info:not(:disabled):hover {
    background-color: #0dcaf0;
    color: #000;
}

.roll-btn-outline-info:not(:disabled):active {
    background-color: #0aa2c0;
    border-color: #0aa2c0;
    color: #000;
}

/* è½®å»“æ¬¡è¦æŒ‰é’®ï¼ˆå¯¼å‡ºç¦»çº¿æ»šæ¦œï¼‰ */
.roll-btn-outline-secondary {
    background-color: transparent;
    color: #6c757d;
    border-color: #6c757d;
}

.roll-btn-outline-secondary:not(:disabled):hover {
    background-color: #6c757d;
    color: #fff;
}

.roll-btn-outline-secondary:not(:disabled):active {
    background-color: #5c636a;
    border-color: #565e64;
    color: #fff;
}

/* æ»šæ¦œæ§åˆ¶æŒ‰é’®ä¸­çš„å›¾æ ‡æ ·å¼ */
.roll-btn i {
    font-size: 1em;
    line-height: 1;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

/* æ»šæ¦œæ§åˆ¶æŒ‰é’®ä¸­çš„åŒè¯­æ–‡æœ¬æ ·å¼ */
.roll-btn .roll-button-bilingual-stacked {
    display: inline-flex;
    flex-direction: column;
    align-items: center;
    line-height: 1.2;
    gap: 2px;
}

.roll-btn .roll-button-text-cn {
    font-size: inherit;
    font-weight: inherit;
}

.roll-btn .roll-button-text-en {
    font-size: 0.75em;
    font-weight: 400;
    opacity: 0.8;
}

.watermark-text-en {
    font-size: 7px;
    font-weight: 600;
    color: #dc2626;
    line-height: 1;
    text-transform: uppercase;
    letter-spacing: 0.3px;
    text-shadow: 0 1px 2px rgba(0,0,0,0.1);
    font-family: 'Arial', sans-serif;
}

/* æ»šæ¦œé”å®šç‰¹æ•ˆ - é†’ç›®ä½†ä¸å½±å“å¸ƒå±€ */
.rank-row.roll-judging {
    background: linear-gradient(135deg, 
        rgba(59, 130, 246, 0.3) 0%, 
        rgba(59, 130, 246, 0.25) 50%,
        rgba(96, 165, 250, 0.3) 100%) !important;
    animation: rollJudgingPulse 1.2s ease-in-out infinite;
    position: relative;
    z-index: 5;
    /* ä½¿ç”¨æ»¤é•œå¢å¼ºé†’ç›®åº¦ï¼Œä¸å½±å“å¸ƒå±€ */
    filter: brightness(1.05) saturate(1.15);
}

/* ä½¿ç”¨ä¼ªå…ƒç´ æ·»åŠ è£…é¥°æ€§å…‰æ•ˆï¼Œç»å¯¹å®šä½ä¸å½±å“å¸ƒå±€ */
.rank-row.roll-judging::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(90deg,
        transparent 0%,
        rgba(255, 255, 255, 0.3) 20%,
        rgba(255, 255, 255, 0.5) 50%,
        rgba(255, 255, 255, 0.3) 80%,
        transparent 100%);
    pointer-events: none;
    z-index: 1;
    animation: rollJudgingShine 2s ease-in-out infinite;
    opacity: 0;
}

.problem-item.roll-judging-problem {
    /* é»„è‰²ç³»èƒŒæ™¯ï¼Œä¸pendingçŠ¶æ€ä¿æŒä¸€è‡´ */
    background: #ffb300 !important; /* Amber-600 é»„è‰²èƒŒæ™¯ */
    color: var(--rank-text-white) !important;
    /* ä½¿ç”¨ outline æ·»åŠ ç²—è¾¹æ¡†ï¼Œä¸å æ®DOMç©ºé—´ */
    outline: 4px solid #ff6f00; /* Amber-800 æ·±é»„è‰²ç²—è¾¹æ¡† */
    outline-offset: -2px; /* å†…åµŒè¾¹æ¡†ï¼Œæ›´ç´§å‡‘ */
    animation: rollJudgingProblemPulse 0.8s ease-in-out infinite;
    filter: brightness(1.1) saturate(1.2);
    z-index: 10;
    position: relative;
}

.rank-row.roll-result-revealed {
    animation: rollResultReveal 0.5s ease-out;
}

@keyframes rollJudgingPulse {
    0%, 100% {
        background: linear-gradient(135deg, 
            rgba(59, 130, 246, 0.3) 0%, 
            rgba(59, 130, 246, 0.25) 50%,
            rgba(96, 165, 250, 0.3) 100%);
        filter: brightness(1.05) saturate(1.15);
    }
    50% {
        background: linear-gradient(135deg, 
            rgba(59, 130, 246, 0.45) 0%, 
            rgba(59, 130, 246, 0.4) 50%,
            rgba(96, 165, 250, 0.45) 100%);
        filter: brightness(1.15) saturate(1.3);
    }
}

@keyframes rollJudgingShine {
    0% {
        opacity: 0;
        transform: translateX(-100%);
    }
    50% {
        opacity: 1;
        transform: translateX(0%);
    }
    100% {
        opacity: 0;
        transform: translateX(100%);
    }
}

@keyframes rollJudgingProblemPulse {
    0%, 100% {
        background: #ffb300 !important; /* Amber-600 é»„è‰²èƒŒæ™¯ */
        outline-color: #ff6f00; /* Amber-800 æ·±é»„è‰²è¾¹æ¡† */
        filter: brightness(1.1) saturate(1.2);
    }
    50% {
        background: #ffc107 !important; /* Amber-500 æ›´äº®çš„é»„è‰² */
        outline-color: #ff8f00; /* Amber-700 ç¨äº®çš„è¾¹æ¡† */
        filter: brightness(1.25) saturate(1.4);
    }
}

@keyframes rollResultReveal {
    0% {
        background: rgba(34, 197, 94, 0.3);
    }
    100% {
        background: transparent;
    }
}

/* è·³è¿‡è¿‡ç¨‹ä¸­è¢«å¤„ç†çš„é˜Ÿä¼ç‰¹æ•ˆ */
.rank-row.roll-skip-revealed {
    animation: rollSkipReveal 1s ease-out;
    box-shadow: 
        0 0 20px rgba(16, 185, 129, 0.4),
        inset 0 0 15px rgba(16, 185, 129, 0.2);
    z-index: 15;
    position: relative;
    background: linear-gradient(135deg, rgba(209, 250, 229, 0.6) 0%, rgba(167, 243, 208, 0.4) 100%);
}

@keyframes rollSkipReveal {
    0% {
        background: rgba(16, 185, 129, 0.4);
        transform: scale(1);
        box-shadow: 
            0 0 30px rgba(16, 185, 129, 0.6),
            inset 0 0 20px rgba(16, 185, 129, 0.3);
    }
    30% {
        background: rgba(16, 185, 129, 0.6);
        transform: scale(1.02);
        box-shadow: 
            0 0 40px rgba(16, 185, 129, 0.8),
            inset 0 0 25px rgba(16, 185, 129, 0.4);
    }
    60% {
        background: rgba(16, 185, 129, 0.4);
        transform: scale(1.01);
        box-shadow: 
            0 0 25px rgba(16, 185, 129, 0.5),
            inset 0 0 15px rgba(16, 185, 129, 0.25);
    }
    100% {
        background: linear-gradient(135deg, rgba(209, 250, 229, 0.6) 0%, rgba(167, 243, 208, 0.4) 100%);
        transform: scale(1);
        box-shadow: 
            0 0 20px rgba(16, 185, 129, 0.4),
            inset 0 0 15px rgba(16, 185, 129, 0.2);
    }
}

/* é˜Ÿä¼è½ä¸‹åŠ¨ç”» - ä¼˜é›…ç¾è§‚ */
.rank-row.rank-falling-down {
    will-change: transform, opacity;
    position: relative;
    z-index: 50;
}

.rank-row.rank-falling-down::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
        to bottom,
        rgba(148, 163, 184, 0.1) 0%,
        rgba(148, 163, 184, 0.05) 50%,
        transparent 100%
    );
    pointer-events: none;
    z-index: -1;
}

/* ä¼˜åŒ–è½ä¸‹åŠ¨ç”»çš„æ€§èƒ½ */
@supports (will-change: transform) {
    .rank-row.rank-falling-down {
        backface-visibility: hidden;
        perspective: 1000px;
        transform: translateZ(0);
    }
}

